"use strict";(self.webpackChunksictaxi=self.webpackChunksictaxi||[]).push([[360],{1360:(M,u,r)=>{r.r(u),r.d(u,{PerfilUsuarioModule:()=>U});var d=r(6895),l=r(5197),e=r(433),c=r(5972),p=r(6132),o=r(1571),m=r(5412),g=r(4471),f=r(2574),b=r(1209),h=r(7446);const Z=[{path:"",component:(()=>{class i{get user(){return JSON.parse(localStorage.getItem("user"))}constructor(t,n,s,C,P,T){this.dialog=t,this.loading=n,this.fb=s,this.eS=C,this.location=P,this.uS=T,this.form=this.fb.group({cedula:new e.NI("",[e.kI.required]),nombres:new e.NI("",[e.kI.required]),apellidos:new e.NI("",[e.kI.required]),direccion:new e.NI("",[e.kI.required]),telefono:new e.NI("",[e.kI.required]),email:new e.NI("",[e.kI.required]),tipoImpresion:new e.NI("",[e.kI.required]),tipoTarjeton:new e.NI("",[e.kI.required])}),this.cargarData()}cargarData(){this.loading.show(),this.eS.getPerfilUsuario().subscribe({next:t=>{this.form.controls.cedula.setValue(t.cedula),this.form.controls.nombres.setValue(t.nombres),this.form.controls.apellidos.setValue(t.apellidos),this.form.controls.direccion.setValue(t.direccion),this.form.controls.telefono.setValue(t.telefono),this.form.controls.email.setValue(t.email),this.form.controls.tipoImpresion.setValue(t.tipoImpresion),this.form.controls.tipoTarjeton.setValue(t.tipoTarjeton),this.form.controls.cedula.disable(),this.form.controls.email.disable(),this.loading.hide()},error:()=>{this.loading.hide(),this.location.back(),this.loading.error("Error perfil de usuario, comuniquese con el administrador de la base de datos")}})}cambiarImg(){this.dialog.open(c.O,{}).afterClosed().subscribe(n=>{})}cambiarPassword(){this.dialog.open(p.z,{}).afterClosed().subscribe(n=>{})}guardar(){this.loading.show();let t=JSON.parse(localStorage.getItem("user"));this.form.controls.cedula.enable(),this.form.controls.email.enable();let n={...this.form.value};this.form.controls.cedula.disable(),this.form.controls.email.disable(),this.uS.updateUserEmpresa(n).subscribe({next:s=>{t.nombres=s.nombres,t.apellidos=s.apellidos,localStorage.setItem("user",JSON.stringify(t)),this.loading.exito("Usuario actualizado con exito"),this.loading.hide()},error:()=>{this.loading.hide(),this.loading.error("Error actualizar usuario, comuniquese con el administrador de la base de datos")}})}}return i.\u0275fac=function(t){return new(t||i)(o.Y36(m.uw),o.Y36(g.b),o.Y36(e.qu),o.Y36(f.P),o.Y36(d.Ye),o.Y36(b.J))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-perfil-usuario"]],decls:72,vars:11,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"contenedor"],[1,"row"],[1,"col"],[1,"card-header","sombra"],[1,"titulo"],[1,"imgprofile",3,"click"],[1,"imgpro",3,"src"],[1,"sobre"],[3,"src"],[1,"row","mt-20"],[1,"card-formulario","sombra"],[1,"col-4"],[1,"subtitulo"],["type","text","formControlName","cedula",1,"input"],["type","text","formControlName","nombres",1,"input"],["type","text","formControlName","apellidos",1,"input"],["type","text","formControlName","direccion",1,"input"],["type","text","formControlName","telefono",1,"input"],["type","text","formControlName","email",1,"input"],["type","text","formControlName","tipoImpresion",1,"input"],["value","1"],["value","2"],["type","text","formControlName","tipoTarjeton",1,"input"],[1,"content-buttons"],["type","submit",1,"sombra","bg-b",3,"disabled"],[1,"separador"],["type","button",1,"sombra","bg-y",3,"click"],["type","button",1,"sombra","bg-r",3,"routerLink"]],template:function(t,n){1&t&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return n.guardar()}),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),o._uU(6,"Datos del usuario"),o.qZA(),o.TgZ(7,"div",6),o.NdJ("click",function(){return n.cambiarImg()}),o._UZ(8,"img",7),o.ALo(9,"imagenes"),o.TgZ(10,"div",8),o._UZ(11,"img",9),o.ALo(12,"imagenes"),o.qZA()()()()(),o.TgZ(13,"div",10)(14,"div",3)(15,"div",11)(16,"div",2)(17,"div",12)(18,"label",13),o._uU(19,"C\xe9dula de ciudadan\xeda"),o.qZA(),o._UZ(20,"input",14),o.qZA(),o.TgZ(21,"div",12)(22,"label",13),o._uU(23,"Nombres"),o.qZA(),o._UZ(24,"input",15),o.qZA(),o.TgZ(25,"div",12)(26,"label",13),o._uU(27,"Apellidos"),o.qZA(),o._UZ(28,"input",16),o.qZA()(),o.TgZ(29,"div",10)(30,"div",12)(31,"label",13),o._uU(32,"Direcci\xf3n"),o.qZA(),o._UZ(33,"input",17),o.qZA(),o.TgZ(34,"div",12)(35,"label",13),o._uU(36,"Tel\xe9fono/celular"),o.qZA(),o._UZ(37,"input",18),o.qZA(),o.TgZ(38,"div",12)(39,"label",13),o._uU(40,"E-mail"),o.qZA(),o._UZ(41,"input",19),o.qZA()(),o.TgZ(42,"div",10)(43,"div",12)(44,"label",13),o._uU(45,"Tipo de impresora (tarjet\xf3n)"),o.qZA(),o.TgZ(46,"select",20)(47,"option",21),o._uU(48,"Laser"),o.qZA(),o.TgZ(49,"option",22),o._uU(50,"Inyecci\xf3n de Tinta"),o.qZA()()(),o._UZ(51,"div",12),o.TgZ(52,"div",12)(53,"label",13),o._uU(54,"Tipo de dise\xf1o (tarjet\xf3n)"),o.qZA(),o.TgZ(55,"select",23)(56,"option",21),o._uU(57,"Tipo 1"),o.qZA(),o.TgZ(58,"option",22),o._uU(59,"Tipo 2"),o.qZA()()()(),o.TgZ(60,"div",10)(61,"div",24)(62,"button",25),o._UZ(63,"img",9),o._uU(64,"Guardar todo"),o.qZA(),o._UZ(65,"div",26),o.TgZ(66,"button",27),o.NdJ("click",function(){return n.cambiarPassword()}),o._UZ(67,"img",9),o._uU(68,"Cambiar contrase\xf1a"),o.qZA(),o._UZ(69,"div",26),o.TgZ(70,"button",28),o._uU(71,"Cancelar"),o.qZA()()()()()()()()),2&t&&(o.Q6J("formGroup",n.form),o.xp6(8),o.Q6J("src",o.lcZ(9,7,n.user.fotoUrl),o.LSH),o.xp6(3),o.Q6J("src",o.lcZ(12,9,"assets/editar.svg"),o.LSH),o.xp6(51),o.Q6J("disabled",!n.form.valid),o.xp6(1),o.Q6J("src","assets/guardar.svg",o.LSH),o.xp6(4),o.Q6J("src","assets/llave.svg",o.LSH),o.xp6(3),o.Q6J("routerLink","/secretaria/buscar-conductores"))},dependencies:[l.rH,e._Y,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.JL,e.sg,e.u,h.z],styles:[".contenedor[_ngcontent-%COMP%]{padding:15px 20px;height:100%}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.card-formulario[_ngcontent-%COMP%]{width:100%;padding:30px;background-color:#fff;border-radius:25px}.subtitulo[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#000;margin-left:20px}.input[_ngcontent-%COMP%]{width:100%;background-color:#fff;border:2px solid #EFEFEF;padding-left:20px;border-radius:20px;height:28px;font-size:12px}.separador[_ngcontent-%COMP%]{width:20px}.content-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{padding:5px 20px;height:30px;background-color:#fff;border-radius:25px;border:none;font-size:14px;font-weight:700;color:#000;transition:all .2s ease-in-out}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;margin-right:10px}.bg-b[_ngcontent-%COMP%]{background-color:#8dd7f7}.bg-y[_ngcontent-%COMP%]{background-color:#fff25c}.card-header[_ngcontent-%COMP%]{width:100%;padding:15px 50px;border-radius:25px;background-color:#fff;display:flex;justify-content:space-between;align-items:center}.imgprofile[_ngcontent-%COMP%]{cursor:pointer;position:relative;transition:all .5s cubic-bezier(0,0,.09,.87)}.imgprofile[_ngcontent-%COMP%]   .imgpro[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;background-size:cover;box-shadow:0 0 7px #00000017;object-fit:cover}.imgprofile[_ngcontent-%COMP%]   .sobre[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;position:absolute;top:0;left:0;z-index:99;background-color:#00000050;display:flex;justify-content:center;align-items:center}.imgprofile[_ngcontent-%COMP%]   .sobre[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}.imgprofile[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}"]}),i})()}];let v=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[l.Bz.forChild(Z),l.Bz]}),i})();var x=r(5503);let U=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[d.ez,v,x.D,e.UX]}),i})()}}]);