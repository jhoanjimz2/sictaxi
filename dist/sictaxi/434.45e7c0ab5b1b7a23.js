"use strict";(self.webpackChunksictaxi=self.webpackChunksictaxi||[]).push([[434],{5934:(C,u,a)=>{a.d(u,{f:()=>b});var t=a(5412),e=a(1571),i=a(4471),c=a(2574),s=a(6895),r=a(5015);function l(o,g){if(1&o){const n=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(n);const M=e.oxw();return e.KtG(M.tramitarTodas())}),e._uU(1,"Tramitar todas"),e.qZA()}}function d(o,g){if(1&o&&(e.TgZ(0,"div",17),e._UZ(1,"div",18),e.TgZ(2,"label"),e._uU(3),e.qZA()()),2&o){const n=g.$implicit;e.xp6(3),e.Oqu(n.comentario)}}function v(o,g){1&o&&(e.TgZ(0,"div",17),e._UZ(1,"div",18),e.TgZ(2,"label"),e._uU(3,"Mala Calificaci\xf3n"),e.qZA()())}function h(o,g){if(1&o&&(e.TgZ(0,"div",19)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"label"),e._uU(4),e.qZA(),e.TgZ(5,"label"),e._uU(6),e.qZA(),e.TgZ(7,"label"),e._uU(8),e.ALo(9,"date"),e.qZA()()),2&o){const n=e.oxw().$implicit;e.xp6(2),e.hij("Email: ",n.email,""),e.xp6(2),e.hij("Nombre: ",n.nombre,""),e.xp6(2),e.hij("Telefono: ",n.telefono,""),e.xp6(2),e.Oqu(e.xi3(9,4,n.fechaRegistro,"dd/MM/YYYY"))}}const _=function(o){return{list:o}};function f(o,g){if(1&o&&(e.TgZ(0,"div",13),e.YNc(1,d,4,1,"div",14),e.YNc(2,v,4,0,"div",15),e.YNc(3,h,10,7,"div",16),e.qZA()),2&o){const n=g.$implicit,p=e.oxw();e.Q6J("ngClass",e.VKq(4,_,p.estado)),e.xp6(1),e.Q6J("ngForOf",n.comentarios),e.xp6(1),e.Q6J("ngIf",!n.comentarios.length),e.xp6(1),e.Q6J("ngIf","Secretaria"==p.user.rol)}}function m(o,g){if(1&o&&(e.TgZ(0,"div",17),e._UZ(1,"div",20),e.TgZ(2,"label"),e._uU(3),e.qZA()()),2&o){const n=g.$implicit;e.xp6(3),e.Oqu(n.comentario)}}function x(o,g){1&o&&(e.TgZ(0,"div",17),e._UZ(1,"div",18),e.TgZ(2,"label"),e._uU(3,"Mala Calificaci\xf3n"),e.qZA()())}function O(o,g){if(1&o&&(e.TgZ(0,"div",19)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"label"),e._uU(4),e.qZA(),e.TgZ(5,"label"),e._uU(6),e.qZA(),e.TgZ(7,"label"),e._uU(8),e.ALo(9,"date"),e.qZA()()),2&o){const n=e.oxw().$implicit;e.xp6(2),e.hij("Email: ",n.email,""),e.xp6(2),e.hij("Nombre: ",n.nombre,""),e.xp6(2),e.hij("Telefono: ",n.telefono,""),e.xp6(2),e.Oqu(e.xi3(9,4,n.fechaRegistro,"dd/MM/YYYY"))}}function T(o,g){if(1&o&&(e.TgZ(0,"div",13),e.YNc(1,m,4,1,"div",14),e.YNc(2,x,4,0,"div",15),e.YNc(3,O,10,7,"div",16),e.qZA()),2&o){const n=g.$implicit,p=e.oxw();e.Q6J("ngClass",e.VKq(4,_,!p.estado)),e.xp6(1),e.Q6J("ngForOf",n.comentarios),e.xp6(1),e.Q6J("ngIf",!n.comentarios.length),e.xp6(1),e.Q6J("ngIf","Secretaria"==p.user.rol)}}const P=function(o){return{"item-select":o}};let b=(()=>{class o{get user(){return JSON.parse(localStorage.getItem("user"))}constructor(n,p,M,Z){this.dialogRef=n,this.data=p,this.loading=M,this.eS=Z,this.estado=!1,this.quejasNoTramitadas=[],this.quejasSiTramitadas=[],this.cargarQuejas(),this.cargarQuejasTramitadas()}tramitarTodas(){this.loading.show(),this.eS.tramitarQuejas(this.data.idVinculacion).subscribe({next:n=>{this.loading.hide(),this.loading.exito("Todas las quejas tramitadas"),this.cargarQuejas(),this.cargarQuejasTramitadas()},error:n=>{this.loading.hide(),this.loading.error("Error en la tramitaci\xf3n comuniquese con el administrador de la base de datos"),this.dialogRef.close()}})}cargarQuejas(){this.loading.show(),this.eS.getDataQuejas(this.data.idVinculacion,this.data.fechaInicial,this.data.fechaFinal).subscribe({next:n=>{this.loading.hide(),this.quejasNoTramitadas=n},error:n=>{this.loading.hide(),this.loading.error("Error carga calificaciones"),this.dialogRef.close()}})}cargarQuejasTramitadas(){this.loading.show(),this.eS.getDataQuejasTramitadas(this.data.idVinculacion,this.data.fechaInicial,this.data.fechaFinal).subscribe({next:n=>{this.loading.hide(),this.quejasSiTramitadas=n},error:n=>{this.loading.hide(),this.loading.error("Error carga calificaciones"),this.dialogRef.close()}})}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(t.so),e.Y36(t.WI),e.Y36(i.b),e.Y36(c.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-modal-quejas-tramitadas"]],decls:22,vars:15,consts:[[1,"contenedor"],[1,"row"],[1,"col-6","d-flex"],[1,"item","mr-10",3,"ngClass","click"],[3,"src"],[1,"item",3,"ngClass","click"],[1,"col-6","d-flex","flex-end"],[3,"click",4,"ngIf"],["mat-dialog-close","",1,"ml-10"],[1,"col","colitems"],["class","card-quejas",3,"ngClass",4,"ngFor","ngForOf"],[1,"h-40"],[3,"click"],[1,"card-quejas",3,"ngClass"],["class","comentarios",4,"ngFor","ngForOf"],["class","comentarios",4,"ngIf"],["class","info-usuario",4,"ngIf"],[1,"comentarios"],[1,"check"],[1,"info-usuario"],[1,"checkTramitado"]],template:function(n,p){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.NdJ("click",function(){return p.estado=!1}),e._UZ(4,"img",4),e.TgZ(5,"label"),e._uU(6,"Quejas"),e.qZA()(),e.TgZ(7,"div",5),e.NdJ("click",function(){return p.estado=!0}),e._UZ(8,"img",4),e.TgZ(9,"label"),e._uU(10,"Tramitadas"),e.qZA()()(),e.TgZ(11,"div",6),e.YNc(12,l,2,0,"button",7),e.TgZ(13,"button",8),e._uU(14,"Cancelar"),e.qZA()()(),e.TgZ(15,"div",1)(16,"div",9),e.YNc(17,f,4,6,"div",10),e.ALo(18,"orderDate"),e.YNc(19,T,4,6,"div",10),e.ALo(20,"orderDate"),e._UZ(21,"div",11),e.qZA()()()),2&n&&(e.xp6(3),e.Q6J("ngClass",e.VKq(11,P,!p.estado)),e.xp6(1),e.Q6J("src","assets/alertas.svg",e.LSH),e.xp6(3),e.Q6J("ngClass",e.VKq(13,P,p.estado)),e.xp6(1),e.Q6J("src","assets/tramitadas.svg",e.LSH),e.xp6(4),e.Q6J("ngIf","Secretaria"==p.user.rol),e.xp6(5),e.Q6J("ngForOf",e.lcZ(18,7,p.quejasNoTramitadas)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(20,9,p.quejasSiTramitadas)))},dependencies:[s.mk,s.sg,s.O5,t.ZT,s.uU,r.I],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;height:100%;padding:40px}.h-40[_ngcontent-%COMP%]{height:40px}.d-flex[_ngcontent-%COMP%]{display:flex}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}.flex-end[_ngcontent-%COMP%]{justify-content:flex-end}.item[_ngcontent-%COMP%]{width:auto;height:auto;display:flex;justify-content:flex-start;align-items:center;cursor:pointer}.item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#00000050;margin-left:5px;transition:all .2s ease-in-out}.item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:13px;transition:all .2s ease-in-out}.item[_ngcontent-%COMP%]:hover, .item[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]:hover, .item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]:hover{cursor:pointer}.item-select[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;color:#000}.item-select[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}.item-select[_ngcontent-%COMP%]:hover, .item-select[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]:hover, .item-select[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]:hover{cursor:pointer}button[_ngcontent-%COMP%]{padding:2px 15px;border-radius:15px;background-color:#fff;border:none;font-size:15px;color:#000;box-shadow:0 2px 4px 1px #00000016}.colitems[_ngcontent-%COMP%]{margin-top:10px;overflow-y:auto;transition:all 1s ease-in-out}.card-quejas[_ngcontent-%COMP%]{margin-top:30px;width:100%;padding:15px;border-radius:25px;background-color:#fff;box-shadow:0 0 8px #00000016}.list[_ngcontent-%COMP%]{display:none}.comentarios[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.comentarios[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{background:#F30F28!important;border:2px solid rgba(128,128,128,.356);width:10px;height:10px;border-radius:5px;box-shadow:0 4px 17px #00000026;margin-right:10px}.comentarios[_ngcontent-%COMP%]   .checkTramitado[_ngcontent-%COMP%]{background:rgba(0,0,0,.3764705882)!important;border:2px solid rgba(128,128,128,.356);width:10px;height:10px;border-radius:5px;box-shadow:0 4px 17px #00000026;margin-right:10px}.comentarios[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#000}.info-usuario[_ngcontent-%COMP%]{margin-left:20px;font-size:13px;font-weight:300;color:#000;display:grid}"]}),o})()},5015:(C,u,a)=>{a.d(u,{I:()=>e});var t=a(1571);let e=(()=>{class i{transform(s){return s.sort((r,l)=>r.fechaRegistro<l.fechaRegistro?1:-1)}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275pipe=t.Yjl({name:"orderDate",type:i,pure:!0}),i})()},2131:(C,u,a)=>{a.d(u,{A:()=>s});var t=a(1571),e=a(433),i=a(7579),c=a(8372);let s=(()=>{class r{constructor(){this.searchEvent=new t.vpe,this.placeholder="",this.searching=new e.cw({search:new e.NI("")}),this.debounceSelect=new i.x,this.debounceSelect.pipe((0,c.b)(1e3)).subscribe(d=>{this.buscar()})}debounce(){this.debounceSelect.next(this.searching.controls.search.value)}buscar(){this.searchEvent.emit(this.searching.controls.search.value)}}return r.\u0275fac=function(d){return new(d||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-barra-busqueda"]],inputs:{placeholder:"placeholder"},outputs:{searchEvent:"searchEvent"},decls:4,vars:3,consts:[[1,"con-search-bar",3,"formGroup"],[1,"cont-input-incon"],["formControlName","search",3,"placeholder","keyup"],[3,"src"]],template:function(d,v){1&d&&(t.TgZ(0,"div",0)(1,"div",1)(2,"input",2),t.NdJ("keyup",function(){return v.debounce()}),t.qZA(),t._UZ(3,"img",3),t.qZA()()),2&d&&(t.Q6J("formGroup",v.searching),t.xp6(2),t.Q6J("placeholder",v.placeholder),t.xp6(1),t.Q6J("src","assets/buscar.svg",t.LSH))},dependencies:[e.Fj,e.JJ,e.JL,e.sg,e.u],styles:[".con-search-bar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.cont-input-incon[_ngcontent-%COMP%]{width:90%;position:relative}input[_ngcontent-%COMP%]{width:100%;height:40px;border:none;border-radius:25px;background-color:#fff;margin-bottom:10px;padding-left:20px;padding-right:50px;box-shadow:0 4px 17px #00000026}img[_ngcontent-%COMP%]{position:absolute;width:20px;right:20px;top:calc(50% - 15px)}"]}),r})()},9947:(C,u,a)=>{a.d(u,{u:()=>v});var t=a(1571),e=a(433),i=a(5650),c=a(833),s=a(1998),l=a(5552),d=a(9549);let v=(()=>{class h{constructor(){this.select=new t.vpe,this.range=new e.cw({start:new e.NI(null),end:new e.NI(null)}),this.maxDate=new Date,this.minDate=new Date(function r(h,_){(0,c.Z)(2,arguments);var f=(0,s.Z)(_);return(0,i.Z)(h,-f)}(new Date,7))}selectDate(){!this.range.value.end||!this.range.value.start||this.select.emit(this.range.value)}}return h.\u0275fac=function(f){return new(f||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-datetime"]],outputs:{select:"select"},decls:7,vars:4,consts:[["appearance","fill"],[3,"formGroup","rangePicker","max"],["matStartDate","","formControlName","start","placeholder","00/00/0000"],["matEndDate","","formControlName","end","placeholder","00/00/0000"],["matIconSuffix","",3,"for"],[3,"closed"],["picker",""]],template:function(f,m){if(1&f&&(t.TgZ(0,"mat-form-field",0)(1,"mat-date-range-input",1),t._UZ(2,"input",2)(3,"input",3),t.qZA(),t._UZ(4,"mat-datepicker-toggle",4),t.TgZ(5,"mat-date-range-picker",5,6),t.NdJ("closed",function(){return m.selectDate()}),t.qZA()()),2&f){const x=t.MAs(6);t.xp6(1),t.Q6J("formGroup",m.range)("rangePicker",x)("max",m.maxDate),t.xp6(3),t.Q6J("for",x)}},dependencies:[l.nW,l.wx,l.zY,l.By,l._g,d.KE,d.R9,e.Fj,e.JJ,e.JL,e.sg,e.u]}),h})()},7743:(C,u,a)=>{a.d(u,{r:()=>h});var t=a(1571),e=a(7579),i=a(8372),c=a(3499),s=a(6895),r=a(9549),l=a(5113),d=a(3238);function v(_,f){if(1&_&&(t.TgZ(0,"mat-option",3),t._uU(1),t.qZA()),2&_){const m=f.$implicit;t.Q6J("value",m.comentario),t.xp6(1),t.hij(" ",m.comentario," ")}}let h=(()=>{class _{get comentarios(){return this.cS.comentariosN}constructor(m){this.cS=m,this.select=new t.vpe,this.debounceSelect=new e.x,this.debounceSelect.pipe((0,i.b)(1e3)).subscribe(x=>{this.cambio(x)})}debounce(m){this.debounceSelect.next(m.value)}cambio(m){this.select.emit(m)}}return _.\u0275fac=function(m){return new(m||_)(t.Y36(c.o))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-select-neg"]],outputs:{select:"select"},decls:3,vars:2,consts:[["appearance","fill"],["multiple","",3,"placeholder","selectionChange"],["class","opcionSelect",3,"value",4,"ngFor","ngForOf"],[1,"opcionSelect",3,"value"]],template:function(m,x){1&m&&(t.TgZ(0,"mat-form-field",0)(1,"mat-select",1),t.NdJ("selectionChange",function(T){return x.debounce(T)}),t.YNc(2,v,2,2,"mat-option",2),t.qZA()()),2&m&&(t.xp6(1),t.Q6J("placeholder","Tipo de comentario negativo"),t.xp6(1),t.Q6J("ngForOf",x.comentarios))},dependencies:[s.sg,r.KE,l.gD,d.ey]}),_})()},833:(C,u,a)=>{function t(e,i){if(i.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+i.length+" present")}a.d(u,{Z:()=>t})},1998:(C,u,a)=>{function t(e){if(null===e||!0===e||!1===e)return NaN;var i=Number(e);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}a.d(u,{Z:()=>t})},5650:(C,u,a)=>{a.d(u,{Z:()=>c});var t=a(1998),e=a(953),i=a(833);function c(s,r){(0,i.Z)(2,arguments);var l=(0,e.Z)(s),d=(0,t.Z)(r);return isNaN(d)?new Date(NaN):(d&&l.setDate(l.getDate()+d),l)}},8751:(C,u,a)=>{a.d(u,{Z:()=>s});var t=a(1998),e=a(5650),i=a(833);function s(r,l){return(0,i.Z)(2,arguments),function c(r,l){(0,i.Z)(2,arguments);var d=(0,t.Z)(l);return(0,e.Z)(r,7*d)}(r,-(0,t.Z)(l))}},953:(C,u,a)=>{a.d(u,{Z:()=>i});var t=a(833);function e(c){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(c)}function i(c){(0,t.Z)(1,arguments);var s=Object.prototype.toString.call(c);return c instanceof Date||"object"===e(c)&&"[object Date]"===s?new Date(c.getTime()):"number"==typeof c||"[object Number]"===s?new Date(c):(("string"==typeof c||"[object String]"===s)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}}}]);