"use strict";(self.webpackChunksictaxi=self.webpackChunksictaxi||[]).push([[390],{4390:(Z,_,a)=>{a.r(_),a.d(_,{AlertasVencimientoModule:()=>T});var n=a(6895),p=a(5197),e=a(1571),u=a(4471),h=a(8273),r=a(2574),x=a(5412),s=a(7446);let g=(()=>{class o{constructor(t,i,c){this.loading=t,this.download=i,this.eS=c}exportar(t){this.loading.show(),this.eS.getExcelDocumentoVencidos(t).subscribe({next:i=>{this.loading.hide(),this.download.download(i,`Documentos vencidos parte ${t}`)},error:i=>{this.loading.hide(),this.loading.error(i.error.message)}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.b),e.Y36(h.K),e.Y36(r.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-fases-exportar"]],decls:29,vars:12,consts:[[1,"contenedor"],[1,"row"],[1,"col-10"],[1,"titulo"],[1,"col-2","flex-end"],["mat-dialog-close","",1,"bi","bi-x-circle-fill","person-close"],[1,"row","mt-5"],[1,"col"],[1,"subtitulo"],[1,"row","mt-25"],[1,"b-w",3,"click"],[3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4,"Exportar excel documentos vencidos"),e.qZA()(),e.TgZ(5,"div",4),e._UZ(6,"i",5),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"label",8),e._uU(10,"El archivo de excel es muy extenso, por lo cual se ha dividido en 4 partes"),e.qZA()()(),e.TgZ(11,"div",9)(12,"div",7)(13,"button",10),e.NdJ("click",function(){return i.exportar(1)}),e._uU(14,"Parte 1"),e._UZ(15,"img",11),e.ALo(16,"imagenes"),e.qZA(),e.TgZ(17,"button",10),e.NdJ("click",function(){return i.exportar(2)}),e._uU(18,"Parte 2"),e._UZ(19,"img",11),e.ALo(20,"imagenes"),e.qZA(),e.TgZ(21,"button",10),e.NdJ("click",function(){return i.exportar(3)}),e._uU(22,"Parte 3"),e._UZ(23,"img",11),e.ALo(24,"imagenes"),e.qZA(),e.TgZ(25,"button",10),e.NdJ("click",function(){return i.exportar(4)}),e._uU(26,"Parte 4"),e._UZ(27,"img",11),e.ALo(28,"imagenes"),e.qZA()()()()),2&t&&(e.xp6(15),e.Q6J("src",e.lcZ(16,4,"assets/excel.svg"),e.LSH),e.xp6(4),e.Q6J("src",e.lcZ(20,6,"assets/excel.svg"),e.LSH),e.xp6(4),e.Q6J("src",e.lcZ(24,8,"assets/excel.svg"),e.LSH),e.xp6(4),e.Q6J("src",e.lcZ(28,10,"assets/excel.svg"),e.LSH))},dependencies:[x.ZT,s.z],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;height:100%;padding:30px}.titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000}.mt-5[_ngcontent-%COMP%]{margin-top:5px!important}.mt-25[_ngcontent-%COMP%]{margin-top:25px}.subtitulo[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#000}.input[_ngcontent-%COMP%]{width:100%;background-color:#fff;border:2px solid #EFEFEF;padding-left:20px;border-radius:20px;height:28px;font-size:12px}.b-w[_ngcontent-%COMP%]{background-color:#fff;border:2px solid white;transition:all .2s ease-in-out;cursor:pointer;box-shadow:0 4px 17px #00000026;margin-right:10px}.b-w[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .5s ease-in-out;cursor:pointer;width:15px;margin-right:10px}.b-w[_ngcontent-%COMP%]:hover{transform:translateY(-3px);background-color:#8dd7f7;border:2px solid #8dd7f7}button[_ngcontent-%COMP%]{border:none;font-size:14px;font-weight:700;color:#000;padding:2px 20px;border-radius:25px;height:30px}.w-20[_ngcontent-%COMP%]{width:20px}.flex-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.person-close[_ngcontent-%COMP%]{margin-left:auto;font-size:25px;color:#f30f28}"]}),o})();var l=a(8569),m=a(557),f=a(2131);let b=(()=>{class o{transform(t,i){return 0===i.length?t:t.filter(c=>c.placa.indexOf(i.replace(/ /g,""))>-1||c.cedula.indexOf(i.replace(/ /g,""))>-1?c:void 0)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"fechasVencidas",type:o,pure:!0}),o})();function C(o,d){if(1&o&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",14),e._UZ(3,"img",15),e.ALo(4,"imagenes"),e.qZA(),e.TgZ(5,"div",16)(6,"label",17),e._uU(7),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"label",18),e._uU(10,"Empresa: "),e.TgZ(11,"span"),e._uU(12),e.qZA()(),e._UZ(13,"br"),e.TgZ(14,"label",18),e._uU(15,"C\xe9dula: "),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e._UZ(18,"br"),e.TgZ(19,"label",18),e._uU(20,"Placa: "),e.TgZ(21,"span"),e._uU(22),e.qZA()(),e._UZ(23,"br"),e.TgZ(24,"label",18),e._uU(25,"Licencia: "),e.TgZ(26,"span"),e._uU(27),e.qZA(),e._UZ(28,"img",15),e.ALo(29,"imagenes"),e.qZA(),e._UZ(30,"br"),e.TgZ(31,"label",18),e._uU(32,"Tarjeta de operaci\xf3n: "),e.TgZ(33,"span"),e._uU(34),e.qZA(),e._UZ(35,"img",15),e.ALo(36,"imagenes"),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"label",18),e._uU(39,"RCC: "),e.TgZ(40,"span"),e._uU(41),e.qZA(),e._UZ(42,"img",15),e.ALo(43,"imagenes"),e.qZA(),e._UZ(44,"br"),e.TgZ(45,"label",18),e._uU(46,"RCE: "),e.TgZ(47,"span"),e._uU(48),e.qZA(),e._UZ(49,"img",15),e.ALo(50,"imagenes"),e.qZA(),e._UZ(51,"br"),e.TgZ(52,"label",18),e._uU(53,"SOAT: "),e.TgZ(54,"span"),e._uU(55),e.qZA(),e._UZ(56,"img",15),e.ALo(57,"imagenes"),e.qZA(),e._UZ(58,"br"),e.TgZ(59,"label",18),e._uU(60,"Tecnicomec\xe1nica: "),e.TgZ(61,"span"),e._uU(62),e.qZA(),e._UZ(63,"img",15),e.ALo(64,"imagenes"),e.qZA()()()()),2&o){const t=d.$implicit;e.xp6(3),e.Q6J("src",e.lcZ(4,29,t.imgConductor),e.LSH),e.xp6(4),e.Oqu(t.nombre),e.xp6(5),e.Oqu(t.empresa),e.xp6(5),e.Oqu(t.cedula),e.xp6(5),e.Oqu(t.placa),e.xp6(5),e.lnq(" ",t.licenciaConduccion.includes("+")?"En":""," ",t.licenciaConduccion.includes("-")?"Hace":""," ",t.licenciaConduccion.substring(1)," d\xedas"),e.xp6(1),e.Q6J("src",t.licenciaConduccion.includes("+")?"assets/tramitadas.svg":e.lcZ(29,31,"assets/alertas.svg"),e.LSH),e.xp6(6),e.lnq(" ",t.tarjetaOperacion.includes("+")?"En":""," ",t.tarjetaOperacion.includes("-")?"Hace":""," ",t.tarjetaOperacion.substring(1)," d\xedas"),e.xp6(1),e.Q6J("src",t.tarjetaOperacion.includes("+")?"assets/tramitadas.svg":e.lcZ(36,33,"assets/alertas.svg"),e.LSH),e.xp6(6),e.lnq(" ",t.rcc.includes("+")?"En":""," ",t.rcc.includes("-")?"Hace":""," ",t.rcc.substring(1)," d\xedas"),e.xp6(1),e.Q6J("src",t.rcc.includes("+")?"assets/tramitadas.svg":e.lcZ(43,35,"assets/alertas.svg"),e.LSH),e.xp6(6),e.lnq(" ",t.rce.includes("+")?"En":""," ",t.rce.includes("-")?"Hace":""," ",t.rce.substring(1)," d\xedas"),e.xp6(1),e.Q6J("src",t.rce.includes("+")?"assets/tramitadas.svg":e.lcZ(50,37,"assets/alertas.svg"),e.LSH),e.xp6(6),e.lnq(" ",t.soat.includes("+")?"En":""," ",t.soat.includes("-")?"Hace":""," ",t.soat.substring(1)," d\xedas"),e.xp6(1),e.Q6J("src",t.soat.includes("+")?"assets/tramitadas.svg":e.lcZ(57,39,"assets/alertas.svg"),e.LSH),e.xp6(6),e.lnq(" ",t.tecnicoMecanica.includes("+")?"En":""," ",t.tecnicoMecanica.includes("-")?"Hace":""," ",t.tecnicoMecanica.substring(1)," d\xedas"),e.xp6(1),e.Q6J("src",t.tecnicoMecanica.includes("+")?"assets/tramitadas.svg":e.lcZ(64,41,"assets/alertas.svg"),e.LSH)}}function E(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"app-paginacion",19),e.NdJ("paginar",function(c){e.CHM(t);const v=e.oxw();return e.KtG(v.pagina(c))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("cantidad",t.totalPages)("focus",t.paginaActual)}}const A=[{path:"",component:(()=>{class o{constructor(t,i,c){this.loading=t,this.eS=i,this.dialog=c,this.fechasVencida=[],this.totalPages=0,this.paginaActual=0,this.buscar="",this.pagina({pagina:1})}pagina({pagina:t}){this.paginaActual=t,this.loading.show(),this.eS.getDataDocumentosVencidos(t).subscribe({next:i=>{this.totalPages=i.pages,this.fechasVencida=i.data,this.loading.hide()},error:i=>{this.totalPages=0,this.fechasVencida=[],this.loading.hide(),this.loading.error(i.error.message)}})}exportar(){this.dialog.open(g,{width:"800px"}).afterClosed().subscribe(i=>{})}buscando(t){this.buscar=t.toUpperCase()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.b),e.Y36(r.P),e.Y36(x.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-alertas-vencimiento"]],decls:14,vars:6,consts:[[1,"contenedor"],[1,"row","mt-20"],[3,"placeholder","searchEvent"],[1,"row","mt-40"],[1,"col-6"],[1,"titulo"],[1,"col-6","flex-end"],[3,"export"],[1,"row","pb-80"],["class","col-4 mt-20",4,"ngFor","ngForOf"],[1,"footer-paginacion"],[3,"cantidad","focus","paginar",4,"ngIf"],[1,"col-4","mt-20"],[1,"card-taxista"],[1,"w-img"],[3,"src"],[1,"w-tex"],[1,"cardtitulo"],[1,"cardsubtitulo"],[3,"cantidad","focus","paginar"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-barra-busqueda",2),e.NdJ("searchEvent",function(v){return i.buscando(v)}),e.qZA()(),e.TgZ(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"Documentos vencidos"),e.qZA()(),e.TgZ(7,"div",6)(8,"app-export-excel",7),e.NdJ("export",function(){return i.exportar()}),e.qZA()()(),e.TgZ(9,"div",8),e.YNc(10,C,65,43,"div",9),e.ALo(11,"fechasVencidas"),e.qZA(),e.TgZ(12,"div",10),e.YNc(13,E,1,2,"app-paginacion",11),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("placeholder","Buscar por placa o c\xe9dula"),e.xp6(8),e.Q6J("ngForOf",e.xi3(11,3,i.fechasVencida,i.buscar)),e.xp6(3),e.Q6J("ngIf",i.totalPages))},dependencies:[n.sg,n.O5,l.s,m.$,f.A,s.z,b],styles:[".contenedor[_ngcontent-%COMP%]{padding:15px 20px;height:100%}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000;margin-left:20px}.flex-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.card-taxista[_ngcontent-%COMP%]{width:100%;background-color:#fff;border-radius:25px;padding:15px;display:flex}.w-img[_ngcontent-%COMP%]{width:50px}.w-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;object-fit:cover}.w-tex[_ngcontent-%COMP%]{width:calc(100% - 50px);padding-left:10px;line-height:1.2}.w-tex[_ngcontent-%COMP%]   .cardtitulo[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#000}.w-tex[_ngcontent-%COMP%]   .cardsubtitulo[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#000}.w-tex[_ngcontent-%COMP%]   .cardsubtitulo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#00000080}.w-tex[_ngcontent-%COMP%]   .cardsubtitulo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px;margin-left:5px}"]}),o})()}];let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(A),p.Bz]}),o})();var P=a(4466),O=a(5503);let T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[n.ez,M,P.m,O.D]}),o})()},8273:(Z,_,a)=>{a.d(_,{K:()=>e});var n=a(1571),p=a(4471);let e=(()=>{class u{constructor(r){this.loading=r}download(r,x){const s=r.type,g=[];g.push(r);const l=window.URL.createObjectURL(new Blob(g,{type:s})),m=document.createElement("a");m.href=l,m.setAttribute("download",x),document.body.appendChild(m),m.click(),this.loading.hide()}}return u.\u0275fac=function(r){return new(r||u)(n.LFG(p.b))},u.\u0275prov=n.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},2131:(Z,_,a)=>{a.d(_,{A:()=>h});var n=a(1571),p=a(433),e=a(7579),u=a(8372);let h=(()=>{class r{constructor(){this.searchEvent=new n.vpe,this.placeholder="",this.searching=new p.cw({search:new p.NI("")}),this.debounceSelect=new e.x,this.debounceSelect.pipe((0,u.b)(1e3)).subscribe(s=>{this.buscar()})}debounce(){this.debounceSelect.next(this.searching.controls.search.value)}buscar(){this.searchEvent.emit(this.searching.controls.search.value)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-barra-busqueda"]],inputs:{placeholder:"placeholder"},outputs:{searchEvent:"searchEvent"},decls:4,vars:3,consts:[[1,"con-search-bar",3,"formGroup"],[1,"cont-input-incon"],["formControlName","search",3,"placeholder","keyup"],[3,"src"]],template:function(s,g){1&s&&(n.TgZ(0,"div",0)(1,"div",1)(2,"input",2),n.NdJ("keyup",function(){return g.debounce()}),n.qZA(),n._UZ(3,"img",3),n.qZA()()),2&s&&(n.Q6J("formGroup",g.searching),n.xp6(2),n.Q6J("placeholder",g.placeholder),n.xp6(1),n.Q6J("src","assets/buscar.svg",n.LSH))},dependencies:[p.Fj,p.JJ,p.JL,p.sg,p.u],styles:[".con-search-bar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.cont-input-incon[_ngcontent-%COMP%]{width:90%;position:relative}input[_ngcontent-%COMP%]{width:100%;height:40px;border:none;border-radius:25px;background-color:#fff;margin-bottom:10px;padding-left:20px;padding-right:50px;box-shadow:0 4px 17px #00000026}img[_ngcontent-%COMP%]{position:absolute;width:20px;right:20px;top:calc(50% - 15px)}"]}),r})()},557:(Z,_,a)=>{a.d(_,{$:()=>x});var n=a(1571),p=a(6895),e=a(1561),u=a(4859),h=a(7446);function r(s,g){if(1&s){const l=n.EpF();n.TgZ(0,"button",6),n.NdJ("click",function(){const b=n.CHM(l).index,C=n.oxw();return n.KtG(C.exportarPag(b+1))}),n._uU(1),n.qZA()}if(2&s){const l=g.index;n.xp6(1),n.hij("Parte ",l+1,"")}}let x=(()=>{class s{constructor(){this.export=new n.vpe,this.exportMultiple=0}exportar(){this.export.emit()}exportarPag(l){this.export.emit(l)}get arr(){return new Array(this.exportMultiple)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-export-excel"]],inputs:{exportMultiple:"exportMultiple"},outputs:{export:"export"},decls:11,vars:11,consts:[[1,"opc",3,"hidden","click"],[3,"src"],["mat-button","",1,"opc",3,"matMenuTriggerFor","hidden"],[3,"hidden"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(l,m){if(1&l&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return m.exportar()}),n._uU(1," Exportar a Excel "),n._UZ(2,"img",1),n.ALo(3,"imagenes"),n.qZA(),n.TgZ(4,"button",2),n._uU(5," Exportar a Excel "),n._UZ(6,"img",1),n.ALo(7,"imagenes"),n.qZA(),n.TgZ(8,"mat-menu",3,4),n.YNc(10,r,2,1,"button",5),n.qZA()),2&l){const f=n.MAs(9);n.Q6J("hidden",m.exportMultiple),n.xp6(2),n.Q6J("src",n.lcZ(3,7,"assets/excel.svg"),n.LSH),n.xp6(2),n.Q6J("matMenuTriggerFor",f)("hidden",!m.exportMultiple),n.xp6(2),n.Q6J("src",n.lcZ(7,9,"assets/excel.svg"),n.LSH),n.xp6(2),n.Q6J("hidden",!m.exportMultiple),n.xp6(2),n.Q6J("ngForOf",m.arr)}},dependencies:[p.sg,e.VK,e.OP,e.p6,u.lW,h.z],styles:[".opc[_ngcontent-%COMP%]{padding:10px 30px;background-color:#fff;border:none;border-radius:25px;font-size:14px;font-weight:700;margin-left:20px;box-shadow:0 4px 17px #00000026}.opc[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-left:5px}"]}),s})()}}]);