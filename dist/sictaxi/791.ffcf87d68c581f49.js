"use strict";(self.webpackChunksictaxi=self.webpackChunksictaxi||[]).push([[791],{791:(Z,f,a)=>{a.r(f),a.d(f,{AsociacionesModule:()=>U});var n=a(6895),h=a(5197),d=a(5412),t=a(1571),x=a(4471),g=a(2574);let _=(()=>{class e{constructor(o,r,c,u){this.dialogRef=o,this.data=r,this.loading=c,this.eS=u}eliminar(){this.loading.show(),this.eS.eliminarAsociacion(this.data.id).subscribe({next:o=>{this.loading.hide(),this.loading.exito("Asociaci\xf3n eliminada con \xe9xito"),this.dialogRef.close()},error:o=>{this.loading.hide(),this.loading.error("Error al eliminar asociaci\xf3n")}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.so),t.Y36(d.WI),t.Y36(x.b),t.Y36(g.P))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-modal-eliminar-asociacion"]],decls:11,vars:1,consts:[[1,"contenedor"],[1,"pt-20"],[1,"pb-20","centrar"],[1,"b-b",3,"click"],[3,"src"],[1,"w-20"],["mat-dialog-close","",1,"b-w"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label"),t._uU(3,"\xbfEstas seguro que deseas eliminar esta asociaci\xf3n?"),t.qZA()(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return r.eliminar()}),t._UZ(6,"img",4),t._uU(7,"Guardar"),t.qZA(),t._UZ(8,"div",5),t.TgZ(9,"button",6),t._uU(10,"Cancelar"),t.qZA()()()),2&o&&(t.xp6(6),t.Q6J("src","assets/guardar.svg",t.LSH))},dependencies:[d.ZT],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;justify-content:center;align-items:center}.div[_ngcontent-%COMP%]{text-align:center}label[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000}.b-w[_ngcontent-%COMP%]{background-color:#fff;border:2px solid rgba(0,0,0,.3764705882)}.b-b[_ngcontent-%COMP%]{background-color:#8dd7f7;border:2px solid #8dd7f7}.b-b[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;margin-right:10px}button[_ngcontent-%COMP%]{border:none;font-size:14px;font-weight:700;color:#000;padding:2px 20px;border-radius:25px}.w-20[_ngcontent-%COMP%]{width:20px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pb-20[_ngcontent-%COMP%]{padding-bottom:20px}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),e})();var i=a(433);let m=(()=>{class e{constructor(o,r,c,u,C){this.dialogRef=o,this.data=r,this.fb=c,this.loading=u,this.eS=C,this.form=this.fb.group({nit:new i.NI("",[i.kI.required]),razon:new i.NI("",[i.kI.required]),direccion:new i.NI("",[i.kI.required]),telefono:new i.NI("",[i.kI.required]),email:new i.NI("",[i.kI.required,i.kI.email])}),r.id&&this.cargarInfo()}cargarInfo(){this.loading.show(),this.eS.getAsociacion(this.data.id).subscribe({next:o=>{this.loading.hide(),this.form.controls.nit.setValue(o.nit),this.form.controls.razon.setValue(o.razonSocial),this.form.controls.direccion.setValue(o.direccion),this.form.controls.telefono.setValue(o.telefono),this.form.controls.email.setValue(o.email)},error:o=>{this.loading.hide(),this.loading.error("Error al cargar los datos de la asociaci\xf3n"),this.dialogRef.close()}})}guardar(){if(this.form.invalid)return this.form.markAllAsTouched();let o={};o.id=this.data.id,o.nit=this.form.controls.nit.value,o.email=this.form.controls.email.value,o.telefono=this.form.controls.telefono.value,o.direccion=this.form.controls.direccion.value,o.razonSocial=this.form.controls.razon.value,this.loading.show(),this.eS.guardarAsociacion(o).subscribe({next:r=>{this.loading.hide(),this.dialogRef.close(),this.loading.exito(this.data.id?"Cambios aplicados con \xe9xito":"Asociaci\xf3n creada con \xe9xito")},error:r=>{this.loading.hide(),this.loading.error("Error al actualizar los datos de la asociaci\xf3n")}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.so),t.Y36(d.WI),t.Y36(i.qu),t.Y36(x.b),t.Y36(g.P))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-modal-crear-asociacion"]],decls:38,vars:4,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"contenedor"],[1,"row"],[1,"col"],[1,"titulo"],[1,"row","mt-10"],[1,"col-6"],[1,"subtitulo"],["type","text","formControlName","nit",1,"input"],["type","text","formControlName","razon",1,"input"],["type","text","formControlName","direccion",1,"input"],["type","text","formControlName","telefono",1,"input"],["type","email","formControlName","email",1,"input"],[1,"row","mt-30"],[1,"col","flex-end"],["type","submit",1,"b-b",3,"disabled"],[3,"src"],[1,"w-20"],["mat-dialog-close","",1,"b-w"]],template:function(o,r){1&o&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return r.guardar()}),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5),t.qZA()()(),t.TgZ(6,"div",5)(7,"div",6)(8,"label",7),t._uU(9,"Nit"),t.qZA(),t._UZ(10,"input",8),t.qZA(),t.TgZ(11,"div",6)(12,"label",7),t._uU(13,"Raz\xf3n social"),t.qZA(),t._UZ(14,"input",9),t.qZA()(),t.TgZ(15,"div",5)(16,"div",6)(17,"label",7),t._uU(18,"Direcci\xf3n"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"div",6)(21,"label",7),t._uU(22,"Tel\xe9fono/celular"),t.qZA(),t._UZ(23,"input",11),t.qZA()(),t.TgZ(24,"div",5)(25,"div",6)(26,"label",7),t._uU(27,"E-mail"),t.qZA(),t._UZ(28,"input",12),t.qZA(),t._UZ(29,"div",6),t.qZA(),t.TgZ(30,"div",13)(31,"div",14)(32,"button",15),t._UZ(33,"img",16),t._uU(34,"Guardar"),t.qZA(),t._UZ(35,"div",17),t.TgZ(36,"button",18),t._uU(37,"Cancelar"),t.qZA()()()()()),2&o&&(t.Q6J("formGroup",r.form),t.xp6(5),t.hij(" ",r.data.id?"Editar Asociaci\xf3n":"Crear Asociaci\xf3n"," "),t.xp6(27),t.Q6J("disabled",!r.form.valid),t.xp6(1),t.Q6J("src","assets/guardar.svg",t.LSH))},dependencies:[d.ZT,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;height:100%;padding:30px}.titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000;margin-left:20px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.subtitulo[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#000;margin-left:20px}.input[_ngcontent-%COMP%]{width:100%;background-color:#fff;border:2px solid #EFEFEF;padding-left:20px;border-radius:20px;height:28px;font-size:12px}.b-w[_ngcontent-%COMP%]{background-color:#fff;border:2px solid rgba(0,0,0,.3764705882)}.b-b[_ngcontent-%COMP%]{background-color:#8dd7f7;border:2px solid #8dd7f7}.b-b[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;margin-right:10px}button[_ngcontent-%COMP%]{border:none;font-size:14px;font-weight:700;color:#000;padding:2px 20px;border-radius:25px;height:30px}.w-20[_ngcontent-%COMP%]{width:20px}.flex-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}"]}),e})();var l=a(8273),p=a(8569),b=a(557),M=a(7446);function A(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"div",14),t._UZ(3,"img",6),t.ALo(4,"imagenes"),t.qZA(),t.TgZ(5,"div",15)(6,"label",16),t._uU(7),t.qZA(),t.TgZ(8,"label",17),t._uU(9,"NIT : "),t.TgZ(10,"span"),t._uU(11),t.qZA()(),t.TgZ(12,"label",17),t._uU(13,"Direccion: "),t.TgZ(14,"span"),t._uU(15),t.qZA()(),t.TgZ(16,"label",17),t._uU(17,"Telefono : "),t.TgZ(18,"span"),t._uU(19),t.qZA()(),t.TgZ(20,"label",17),t._uU(21,"email : "),t.TgZ(22,"span"),t._uU(23),t.qZA()()(),t.TgZ(24,"div",18)(25,"button",19),t.NdJ("click",function(){const u=t.CHM(o).$implicit,C=t.oxw();return t.KtG(C.editar(u.id))}),t._uU(26,"Editar "),t._UZ(27,"img",6),t.ALo(28,"imagenes"),t.qZA(),t._UZ(29,"div"),t.TgZ(30,"button",20),t.NdJ("click",function(){const u=t.CHM(o).$implicit,C=t.oxw();return t.KtG(C.eliminar(u.id))}),t._uU(31,"Eliminar "),t._UZ(32,"img",6),t.ALo(33,"imagenes"),t.qZA()()()()}if(2&e){const o=s.$implicit;t.xp6(3),t.Q6J("src",t.lcZ(4,8,"assets/sidebar/company.svg"),t.LSH),t.xp6(4),t.Oqu(o.nombreAsociacion),t.xp6(4),t.Oqu(o.nit),t.xp6(4),t.Oqu(o.direccion),t.xp6(4),t.Oqu(o.telefono),t.xp6(4),t.Oqu(o.email),t.xp6(4),t.Q6J("src",t.lcZ(28,10,"assets/editar.svg"),t.LSH),t.xp6(5),t.Q6J("src",t.lcZ(33,12,"assets/eliminar.svg"),t.LSH)}}function v(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"app-paginacion",21),t.NdJ("paginar",function(c){t.CHM(o);const u=t.oxw();return t.KtG(u.pagina(c))}),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("cantidad",o.totalPages)("focus",o.paginaActual)}}const O=[{path:"",component:(()=>{class e{constructor(o,r,c,u){this.loading=o,this.dialog=r,this.eS=c,this.download=u,this.totalPages=0,this.paginaActual=0,this.pagina({pagina:1})}pagina({pagina:o},r=!0){this.paginaActual=o,r&&this.loading.show(),this.eS.getAsociaciones(o).subscribe({next:c=>{this.totalPages=c.pages,this.asociaciones=c.data,this.loading.hide()},error:c=>{this.loading.hide(),this.loading.error(c.error.message)}})}exportar(){this.loading.show(),this.eS.getExcelAsociacionesExcel().subscribe({next:o=>{this.download.download(o,"Asociaciones")},error:o=>{this.loading.hide(),this.loading.error(o.error.message)}})}editar(o){this.dialog.open(m,{data:{id:o},height:"378.5px",width:"800px"}).afterClosed().subscribe(c=>{this.pagina({pagina:this.paginaActual},!1)})}eliminar(o){this.dialog.open(_,{data:{id:o},height:"150px",width:"800px"}).afterClosed().subscribe(c=>{this.pagina({pagina:this.paginaActual},!1)})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(x.b),t.Y36(d.uw),t.Y36(g.P),t.Y36(l.K))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-asociaciones"]],decls:15,vars:5,consts:[[1,"contenedor-20"],[1,"row","pl-50"],[1,"col-6","flex-start"],[1,"title"],[1,"col-6","flex-end"],[1,"opc",3,"click"],[3,"src"],[3,"export"],[1,"row","pb-80"],["class","col-6 mt-20",4,"ngFor","ngForOf"],[1,"footer-paginacion"],[3,"cantidad","focus","paginar",4,"ngIf"],[1,"col-6","mt-20"],[1,"card-empresa"],[1,"imagen"],[1,"text"],[1,"titulo"],[1,"incisos"],[1,"botones"],[1,"b1",3,"click"],[1,"b2",3,"click"],[3,"cantidad","focus","paginar"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),t._uU(4,"Asociaciones"),t.qZA()(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return r.editar(null)}),t._uU(7," Nueva Asociaci\xf3n "),t._UZ(8,"img",6),t.ALo(9,"imagenes"),t.qZA(),t.TgZ(10,"app-export-excel",7),t.NdJ("export",function(){return r.exportar()}),t.qZA()()(),t.TgZ(11,"div",8),t.YNc(12,A,34,14,"div",9),t.qZA(),t.TgZ(13,"div",10),t.YNc(14,v,1,2,"app-paginacion",11),t.qZA()()),2&o&&(t.xp6(8),t.Q6J("src",t.lcZ(9,3,"assets/empresa.svg"),t.LSH),t.xp6(4),t.Q6J("ngForOf",r.asociaciones),t.xp6(2),t.Q6J("ngIf",r.totalPages))},dependencies:[n.sg,n.O5,p.s,b.$,M.z],styles:[".contenedor-20[_ngcontent-%COMP%]{padding:15px 20px;height:100%}.pl-50[_ngcontent-%COMP%]{padding:0 50px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.flex-start[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.flex-end[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.opc[_ngcontent-%COMP%]{padding:10px 30px;background-color:#fff;border:none;border-radius:25px;font-size:14px;font-weight:700;margin-left:20px;box-shadow:0 4px 17px #00000026}.opc[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-left:5px}.card-empresa[_ngcontent-%COMP%]{width:100%;border-radius:25px;background-color:#fff;padding:10px 20px;box-shadow:0 4px 17px #00000026;display:flex;justify-content:center;align-items:center}.imagen[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;display:flex;justify-content:center;align-items:center;box-shadow:0 4px 17px #00000026}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px;object-fit:cover}.text[_ngcontent-%COMP%]{width:calc(100% - 163px);display:grid;padding-left:20px}.botones[_ngcontent-%COMP%]{width:113px!important;display:grid;justify-content:center;align-items:center}.botones[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:10px}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-size:13px;padding:2px 15px;font-weight:300;border-radius:25px;color:#fff;transition:all .2s ease-in-out;width:113px!important}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px;margin-left:5px}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#000!important;font-size:13px;transform:translateY(-3px)}.b1[_ngcontent-%COMP%]{background-color:#8dd7f7}.b2[_ngcontent-%COMP%]{background-color:#f30f28}.b1[_ngcontent-%COMP%]:hover, .b2[_ngcontent-%COMP%]:hover{background-color:#fff25c}.titulo[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#000}.incisos[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#000}.incisos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:300;color:#00000090}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(O),h.Bz]}),e})();var w=a(5503),T=a(4466),E=a(7023);let U=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[n.ez,P,w.D,T.m,E.q]}),e})()},8273:(Z,f,a)=>{a.d(f,{K:()=>d});var n=a(1571),h=a(4471);let d=(()=>{class t{constructor(g){this.loading=g}download(g,_){const i=g.type,m=[];m.push(g);const l=window.URL.createObjectURL(new Blob(m,{type:i})),p=document.createElement("a");p.href=l,p.setAttribute("download",_),document.body.appendChild(p),p.click(),this.loading.hide()}}return t.\u0275fac=function(g){return new(g||t)(n.LFG(h.b))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},557:(Z,f,a)=>{a.d(f,{$:()=>_});var n=a(1571),h=a(6895),d=a(1561),t=a(4859),x=a(7446);function g(i,m){if(1&i){const l=n.EpF();n.TgZ(0,"button",6),n.NdJ("click",function(){const M=n.CHM(l).index,A=n.oxw();return n.KtG(A.exportarPag(M+1))}),n._uU(1),n.qZA()}if(2&i){const l=m.index;n.xp6(1),n.hij("Parte ",l+1,"")}}let _=(()=>{class i{constructor(){this.export=new n.vpe,this.exportMultiple=0}exportar(){this.export.emit()}exportarPag(l){this.export.emit(l)}get arr(){return new Array(this.exportMultiple)}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-export-excel"]],inputs:{exportMultiple:"exportMultiple"},outputs:{export:"export"},decls:11,vars:11,consts:[[1,"opc",3,"hidden","click"],[3,"src"],["mat-button","",1,"opc",3,"matMenuTriggerFor","hidden"],[3,"hidden"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(l,p){if(1&l&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return p.exportar()}),n._uU(1," Exportar a Excel "),n._UZ(2,"img",1),n.ALo(3,"imagenes"),n.qZA(),n.TgZ(4,"button",2),n._uU(5," Exportar a Excel "),n._UZ(6,"img",1),n.ALo(7,"imagenes"),n.qZA(),n.TgZ(8,"mat-menu",3,4),n.YNc(10,g,2,1,"button",5),n.qZA()),2&l){const b=n.MAs(9);n.Q6J("hidden",p.exportMultiple),n.xp6(2),n.Q6J("src",n.lcZ(3,7,"assets/excel.svg"),n.LSH),n.xp6(2),n.Q6J("matMenuTriggerFor",b)("hidden",!p.exportMultiple),n.xp6(2),n.Q6J("src",n.lcZ(7,9,"assets/excel.svg"),n.LSH),n.xp6(2),n.Q6J("hidden",!p.exportMultiple),n.xp6(2),n.Q6J("ngForOf",p.arr)}},dependencies:[h.sg,d.VK,d.OP,d.p6,t.lW,x.z],styles:[".opc[_ngcontent-%COMP%]{padding:10px 30px;background-color:#fff;border:none;border-radius:25px;font-size:14px;font-weight:700;margin-left:20px;box-shadow:0 4px 17px #00000026}.opc[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-left:5px}"]}),i})()}}]);