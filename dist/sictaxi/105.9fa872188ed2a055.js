"use strict";(self.webpackChunksictaxi=self.webpackChunksictaxi||[]).push([[105],{7105:(ro,_,l)=>{l.r(_),l.d(_,{AgregarConductorModule:()=>oo});var d=l(6895),u=l(5197),e=l(433),c=l(5439),o=l(1571),f=l(4471),h=l(9758),Z=l(7579),b=l(8372),A=l(4044),T=l(2340),x=l(5412),g=l(1094),q=l(7446);const N=["myInput"];function U(i,n){if(1&i&&(o.TgZ(0,"option",61),o._uU(1),o.qZA()),2&i){const t=n.$implicit;o.s9C("value",t.id),o.xp6(1),o.Oqu(t.nombre)}}function P(i,n){if(1&i&&(o.TgZ(0,"option",61),o._uU(1),o.qZA()),2&i){const t=n.$implicit;o.s9C("value",t.id),o.xp6(1),o.Oqu(t.nombre)}}function M(i,n){if(1&i&&(o.TgZ(0,"option",61),o._uU(1),o.qZA()),2&i){const t=n.$implicit;o.s9C("value",t.id),o.xp6(1),o.Oqu(t.nombre)}}function O(i,n){1&i&&(o.TgZ(0,"div",12)(1,"label",13),o._uU(2,"N\xfamero interno/Consecutivo"),o.qZA(),o._UZ(3,"input",62),o.qZA())}function I(i,n){1&i&&o._UZ(0,"div",12)}function V(i,n){1&i&&(o.TgZ(0,"div",12)(1,"label",13),o._uU(2,"Fecha de registro"),o.qZA(),o._UZ(3,"input",63),o.qZA()),2&i&&(o.xp6(3),o.Q6J("mask","9999/99/99")("placeholder","aaaa/mm/dd"))}function F(i,n){1&i&&o._UZ(0,"div",59)}function w(i,n){if(1&i){const t=o.EpF();o.TgZ(0,"button",64),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a._refrendar())}),o._UZ(1,"img",9),o._uU(2,"Refrendar"),o.qZA()}2&i&&(o.xp6(1),o.Q6J("src","assets/moneda.png",o.LSH))}let Y=(()=>{class i{constructor(t,r,a,s){this.loading=t,this.aC=r,this.dialog=a,this.fb=s,this.mask=[/[0-3]/,/[0-9]/,"/",/[0-1]/,/[0-9]/,"/",/[1-2]/,/[0-9]/,/[0-9]/,/[0-9]/],this.refrendar=new o.vpe,this.saveForm=new o.vpe,this.busquedaXCedula=new o.vpe,this.id="",this._debounce=new Z.x,this.img="",this.EPSs=[],this.ARLs=[],this.AFPs=[],this.cargarData(),this._debounce.pipe((0,b.b)(500)).subscribe(m=>{this.busquedaXCedula.emit(this.form.controls.cedula.value)})}ngOnChanges(){this.conductor&&this.cargarDatos(),this.conductorBxC&&this.rellenar()}debounce(){this._debounce.next(this.form.controls.cedula.value)}rellenar(){this.form.controls.cedula.setValue(this.conductorBxC.cedula),this.form.controls.nombres.setValue(this.conductorBxC.nombres),this.form.controls.apellidos.setValue(this.conductorBxC.apellidos),this.form.controls.fechaNacimiento.setValue(this.setFormat(this.conductorBxC.fechaNacimiento)),this.form.controls.tipoSangre.setValue(this.conductorBxC.tipoSangre),this.form.controls.rh.setValue(this.conductorBxC.rh),this.form.controls.sexo.setValue(this.conductorBxC.sexo),this.form.controls.estadoCivil.setValue(this.conductorBxC.estadoCivil),this.form.controls.direccion.setValue(this.conductorBxC.direccion),this.form.controls.barrio.setValue(this.conductorBxC.barrio),this.form.controls.telefono.setValue(this.conductorBxC.telefono),this.form.controls.email.setValue(this.conductorBxC.email),this.form.controls.categoriaPase.setValue(this.conductorBxC.categoriaPase),this.form.controls.fechaLicenciaConduccion.setValue(this.setFormat(this.conductorBxC.fechaLicenciaConduccion)),this.form.controls.idArl.setValue(this.conductorBxC.idArl),this.form.controls.idEps.setValue(this.conductorBxC.idEps),this.form.controls.idAfp.setValue(this.conductorBxC.idAfp),this.img=T.N.apiImg+this.conductorBxC.fotoURL}cargarDatos(){this.form.controls.cedula.setValue(this.conductor.conductor.cedula),this.form.controls.nombres.setValue(this.conductor.conductor.nombres),this.form.controls.apellidos.setValue(this.conductor.conductor.apellidos),this.form.controls.fechaNacimiento.setValue(this.setFormat(this.conductor.conductor.fechaNacimiento)),this.form.controls.tipoSangre.setValue(this.conductor.conductor.tipoSangre),this.form.controls.rh.setValue(this.conductor.conductor.rh),this.form.controls.sexo.setValue(this.conductor.conductor.sexo),this.form.controls.estadoCivil.setValue(this.conductor.conductor.estadoCivil),this.form.controls.direccion.setValue(this.conductor.conductor.direccion),this.form.controls.barrio.setValue(this.conductor.conductor.barrio),this.form.controls.telefono.setValue(this.conductor.conductor.telefono),this.form.controls.email.setValue(this.conductor.conductor.email),this.form.controls.categoriaPase.setValue(this.conductor.conductor.categoriaPase),this.form.controls.fechaLicenciaConduccion.setValue(this.setFormat(this.conductor.conductor.fechaLicenciaConduccion)),this.form.controls.idArl.setValue(this.conductor.conductor.seguridad_social[0].id),this.form.controls.idEps.setValue(this.conductor.conductor.seguridad_social[1].id),this.form.controls.idAfp.setValue(this.conductor.conductor.seguridad_social[2].id),this.form.controls.jornada.setValue(this.conductor.jornada),this.form.controls.consecutivo.setValue(this.conductor.consecutivo),this.form.controls.fechaUltimaRefrendacion.setValue(this.setFormat(this.conductor.fechaUltimaRefrendacion)),this.form.controls.cedula.disable(),this.img=T.N.apiImg+this.conductor.conductor.fotoURL}setFormat(t){return t?c(t).format("YYYY/MM/DD"):""}transformar(t){return c(t).utc().format("YYYY-MM-DD")}addimg(t){if(0!==t.target.files.length){if(null==t.target.files[0].type.match(/image\/*/))return this.loading.error("Solo se permite subir imagenes");if(t.target.files[0].size>2e6)return this.loading.error("Imagen muy grande para subir");var a=new FileReader;a.readAsDataURL(t.target.files[0]),a.onload=s=>{this.imgsubir=t.target.files[0],this.img=a.result.toString()},this.input.nativeElement.disabled=!0}}abrirImg(){this.input.nativeElement.disabled=!1,this.input.nativeElement.click()}tomarFoto(){this.dialog.open(A.E,{}).afterClosed().subscribe(r=>{r.html&&(this.img=r.html.toString()),r.file&&(this.imgsubir=r.file)})}cargarData(){this.aC.obtenerAFPARLEPS().subscribe({next:t=>{this.EPSs=t.data.EPS,this.ARLs=t.data.ARL,this.AFPs=t.data.AFP}})}_refrendar(){this.refrendar.emit()}next(){this.form.markAllAsTouched(),this.form.valid?this.validarCampos1():this.validarCampos2()}validarCampos1(){var t=new Date,r=new Date(c(this.form.controls.fechaNacimiento.value).format("YYYY-MM-DD")),a=new Date(c(this.form.controls.fechaLicenciaConduccion.value).format("YYYY-MM-DD"));""==this.img?this.loading.error("Por favor, sube o captura una foto con la webcam."):t.getTime()<=r.getTime()?this.loading.error("Fecha de nacimiento mayor a la fecha actual, por favor ingresa una fecha v\xe1lida."):t.getTime()>a.getTime()?this.loading.error("Licencia de conducci\xf3n vencida, por favor ingresa una fecha v\xe1lida."):(this.id&&this.form.controls.cedula.enable(),this.saveForm.emit({...this.form.value,fechaNacimiento:c(this.form.controls.fechaNacimiento.value).format("DD/MM/YYYY"),fechaLicenciaConduccion:c(this.form.controls.fechaLicenciaConduccion.value).format("DD/MM/YYYY"),fechaUltimaRefrendacion:c(this.form.controls.fechaUltimaRefrendacion.value).format("DD/MM/YYYY"),foto:this.imgsubir}),this.id&&this.form.controls.cedula.disable())}validarCampos2(){this.form.controls.cedula.valid||this.id?this.form.controls.nombres.valid?this.form.controls.apellidos.valid?this.form.controls.fechaNacimiento.valid?this.form.controls.tipoSangre.valid&&this.form.controls.rh.valid?this.form.controls.sexo.valid?this.form.controls.estadoCivil.valid?this.form.controls.direccion.valid?this.form.controls.barrio.valid?this.form.controls.telefono.valid?this.form.controls.email.valid?this.form.controls.categoriaPase.valid?this.form.controls.fechaLicenciaConduccion.valid?this.form.controls.idAfp.valid?this.form.controls.idArl.valid?this.form.controls.idEps.valid?this.form.controls.jornada.valid||this.loading.error("Por favor, seleccione la jornada del conductor."):this.loading.error("Por favor, seleccione la EPS del conductor."):this.loading.error("Por favor, seleccione la ARL del conductor."):this.loading.error("Por favor, seleccione el fondo de pensiones del conductor."):this.loading.error("Por favor, ingrese la fecha de vencimiento de la licencia del conductor"):this.loading.error("Por favor, seleccione la categor\xeda de la licencia del conductor."):this.loading.error("Por favor, ingresa el email del conductor."):this.loading.error("Por favor, ingrese el tel\xe9fono o celular del conductor."):this.loading.error("Por favor, ingresa el barrio del conductor."):this.loading.error("Por favor, ingrese la direcci\xf3n del conductor."):this.loading.error("Por favor, seleccione el estado civil."):this.loading.error("Por favor, seleccione el sexo."):this.loading.error("Por favor, seleccione el tipo de sangre del conductor."):this.loading.error("Por favor, ingresa la fecha de nacimiento del conductor."):this.loading.error("Por favor, ingresa los apellidos del conductor."):this.loading.error("Por favor, ingresa los nombres del conductor."):this.loading.error("Por favor, ingresa el n\xfamero de c\xe9dula del conductor.")}}return i.\u0275fac=function(t){return new(t||i)(o.Y36(f.b),o.Y36(h.E),o.Y36(x.uw),o.Y36(e.qu))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-conductor"]],viewQuery:function(t,r){if(1&t&&o.Gf(N,5),2&t){let a;o.iGM(a=o.CRH())&&(r.input=a.first)}},inputs:{conductorBxC:"conductorBxC",conductor:"conductor",id:"id",form:"form"},outputs:{refrendar:"refrendar",saveForm:"saveForm",busquedaXCedula:"busquedaXCedula"},features:[o.TTD],decls:146,vars:19,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"card-formulario","sombra"],[1,"flexible"],[1,"wid-350"],["type","file","accept","image/png, image/jpeg","disabled","",3,"change"],["myInput",""],[1,"imgprofile",3,"src"],["type","button",1,"sombra","bg-b",3,"click"],[1,"bi","bi-camera"],[3,"src"],[1,"w-rest"],[1,"row"],[1,"col-4"],[1,"subtitulo"],["type","number","formControlName","cedula",1,"input",3,"keyup"],["type","text","formControlName","nombres",1,"input"],["type","text","formControlName","apellidos",1,"input"],["type","text","formControlName","fechaNacimiento",1,"input",3,"placeholder","mask"],["formControlName","tipoSangre",1,"input"],["value","A"],["value","B"],["value","O"],["value","AB"],["formControlName","rh",1,"input"],["value","Positivo"],["value","Negativo"],["formControlName","sexo",1,"input"],["value","Masculino"],["value","Femenino"],["formControlName","estadoCivil",1,"input"],["value","Soltero(a)"],["value","Casado(a)"],["value","Viudo(a)"],["value","Divorcido(a)"],["value","Uni\xf3n libre"],["type","text","formControlName","direccion",1,"input"],["type","text","formControlName","barrio",1,"input"],["type","number","formControlName","telefono",1,"input"],["type","email","formControlName","email",1,"input"],["formControlName","categoriaPase",1,"input"],["value","C1"],["value","C2"],["value","C3"],["type","text","formControlName","fechaLicenciaConduccion",1,"input",3,"placeholder","mask"],["formControlName","idAfp",1,"input"],[3,"value",4,"ngFor","ngForOf"],["formControlName","idArl",1,"input"],["formControlName","idEps",1,"input"],["formControlName","jornada",1,"input"],["value","Diurna"],["value","Nocturna"],["value","Mixta"],["class","col-4",4,"ngIf"],[1,"row","mt-20"],[1,"col-6"],[1,"col-6","end"],["type","submit",1,"sombra","bg-b"],["class","separador",4,"ngIf"],["class","sombra bg-r","type","button",3,"click",4,"ngIf"],[1,"separador"],["type","button",1,"sombra","bg-r",3,"routerLink"],[3,"value"],["type","number","formControlName","consecutivo",1,"input"],["type","text","formControlName","fechaUltimaRefrendacion",1,"input",3,"mask","placeholder"],["type","button",1,"sombra","bg-r",3,"click"]],template:function(t,r){1&t&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return r.next()}),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"input",4,5),o.NdJ("change",function(s){return r.addimg(s)}),o.qZA(),o._UZ(7,"img",6),o.ALo(8,"imagenes"),o.qZA(),o._UZ(9,"br"),o.TgZ(10,"button",7),o.NdJ("click",function(){return r.tomarFoto()}),o._UZ(11,"i",8),o._uU(12,"Tomar una foto"),o.qZA(),o._UZ(13,"br"),o.TgZ(14,"button",7),o.NdJ("click",function(){return r.abrirImg()}),o._UZ(15,"img",9),o._uU(16,"Subir foto"),o.qZA()(),o.TgZ(17,"div",10)(18,"div",11)(19,"div",12)(20,"label",13),o._uU(21,"C\xe9dula/Licencia"),o.qZA(),o.TgZ(22,"input",14),o.NdJ("keyup",function(){return r.debounce()}),o.qZA()(),o.TgZ(23,"div",12)(24,"label",13),o._uU(25,"Nombres"),o.qZA(),o._UZ(26,"input",15),o.qZA(),o.TgZ(27,"div",12)(28,"label",13),o._uU(29,"Apellidos"),o.qZA(),o._UZ(30,"input",16),o.qZA(),o.TgZ(31,"div",12)(32,"label",13),o._uU(33,"Fecha de nacimiento"),o.qZA(),o._UZ(34,"input",17),o.qZA(),o.TgZ(35,"div",12)(36,"label",13),o._uU(37,"Grupo sanguineo"),o.qZA(),o.TgZ(38,"select",18)(39,"option",19),o._uU(40,"A"),o.qZA(),o.TgZ(41,"option",20),o._uU(42,"B"),o.qZA(),o.TgZ(43,"option",21),o._uU(44,"O"),o.qZA(),o.TgZ(45,"option",22),o._uU(46,"AB"),o.qZA()()(),o.TgZ(47,"div",12)(48,"label",13),o._uU(49,"RH"),o.qZA(),o.TgZ(50,"select",23)(51,"option",24),o._uU(52,"Positivo"),o.qZA(),o.TgZ(53,"option",25),o._uU(54,"Negativo"),o.qZA()()(),o.TgZ(55,"div",12)(56,"label",13),o._uU(57,"Sexo"),o.qZA(),o.TgZ(58,"select",26)(59,"option",27),o._uU(60,"Masculino"),o.qZA(),o.TgZ(61,"option",28),o._uU(62,"Femenino"),o.qZA()()(),o.TgZ(63,"div",12)(64,"label",13),o._uU(65,"Estado civil"),o.qZA(),o.TgZ(66,"select",29)(67,"option",30),o._uU(68,"Soltero(a)"),o.qZA(),o.TgZ(69,"option",31),o._uU(70,"Casado(a)"),o.qZA(),o.TgZ(71,"option",32),o._uU(72,"Viudo(a)"),o.qZA(),o.TgZ(73,"option",33),o._uU(74,"Divorcido(a)"),o.qZA(),o.TgZ(75,"option",34),o._uU(76,"Uni\xf3n libre"),o.qZA()()(),o.TgZ(77,"div",12)(78,"label",13),o._uU(79,"Direcci\xf3n"),o.qZA(),o._UZ(80,"input",35),o.qZA(),o.TgZ(81,"div",12)(82,"label",13),o._uU(83,"Barrio"),o.qZA(),o._UZ(84,"input",36),o.qZA(),o.TgZ(85,"div",12)(86,"label",13),o._uU(87,"Tel\xe9fono/celular"),o.qZA(),o._UZ(88,"input",37),o.qZA(),o.TgZ(89,"div",12)(90,"label",13),o._uU(91,"E-mail"),o.qZA(),o._UZ(92,"input",38),o.qZA(),o.TgZ(93,"div",12)(94,"label",13),o._uU(95,"Categor\xeda licencia"),o.qZA(),o.TgZ(96,"select",39)(97,"option",40),o._uU(98,"C1"),o.qZA(),o.TgZ(99,"option",41),o._uU(100,"C2"),o.qZA(),o.TgZ(101,"option",42),o._uU(102,"C3"),o.qZA()()(),o.TgZ(103,"div",12)(104,"label",13),o._uU(105,"Fecha de venc. licencia"),o.qZA(),o._UZ(106,"input",43),o.qZA(),o.TgZ(107,"div",12)(108,"label",13),o._uU(109,"Fondo de pensiones"),o.qZA(),o.TgZ(110,"select",44),o.YNc(111,U,2,2,"option",45),o.qZA()(),o.TgZ(112,"div",12)(113,"label",13),o._uU(114,"ARL"),o.qZA(),o.TgZ(115,"select",46),o.YNc(116,P,2,2,"option",45),o.qZA()(),o.TgZ(117,"div",12)(118,"label",13),o._uU(119,"EPS"),o.qZA(),o.TgZ(120,"select",47),o.YNc(121,M,2,2,"option",45),o.qZA()(),o.TgZ(122,"div",12)(123,"label",13),o._uU(124,"Jornada"),o.qZA(),o.TgZ(125,"select",48)(126,"option",49),o._uU(127,"Diurna"),o.qZA(),o.TgZ(128,"option",50),o._uU(129,"Nocturna"),o.qZA(),o.TgZ(130,"option",51),o._uU(131,"Mixta"),o.qZA()()(),o.YNc(132,O,4,0,"div",52),o.YNc(133,I,1,0,"div",52),o.YNc(134,V,4,2,"div",52),o.qZA()()(),o.TgZ(135,"div",53),o._UZ(136,"div",54),o.TgZ(137,"div",55)(138,"button",56),o._UZ(139,"img",9),o._uU(140,"Guardar todo"),o.qZA(),o.YNc(141,F,1,0,"div",57),o.YNc(142,w,3,1,"button",58),o._UZ(143,"div",59),o.TgZ(144,"button",60),o._uU(145,"Cancelar"),o.qZA()()()()()),2&t&&(o.Q6J("formGroup",r.form),o.xp6(7),o.Q6J("src",o.lcZ(8,17,r.img),o.LSH),o.xp6(8),o.Q6J("src","assets/subirfoto.svg",o.LSH),o.xp6(19),o.Q6J("placeholder","aaaa/mm/dd")("mask","9999/99/99"),o.xp6(72),o.Q6J("placeholder","aaaa/mm/dd")("mask","9999/99/99"),o.xp6(5),o.Q6J("ngForOf",r.AFPs),o.xp6(5),o.Q6J("ngForOf",r.ARLs),o.xp6(5),o.Q6J("ngForOf",r.EPSs),o.xp6(11),o.Q6J("ngIf",r.id),o.xp6(1),o.Q6J("ngIf",r.id),o.xp6(1),o.Q6J("ngIf",r.id),o.xp6(5),o.Q6J("src","assets/guardar.svg",o.LSH),o.xp6(2),o.Q6J("ngIf",r.id),o.xp6(1),o.Q6J("ngIf",r.id),o.xp6(2),o.Q6J("routerLink","/empresa/buscar-conductores"))},dependencies:[d.sg,d.O5,u.rH,g.Z6,e._Y,e.YN,e.Kr,e.Fj,e.wV,e.EJ,e.JJ,e.JL,e.sg,e.u,q.z],styles:[".contenedor[_ngcontent-%COMP%]{padding:15px 20px;height:100%}.mt-10[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%]{margin-top:10px}.titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.card-formulario[_ngcontent-%COMP%]{width:100%;height:auto;padding:30px;background-color:#fff;border-radius:25px}.subtitulo[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#000;margin-left:20px}.input[_ngcontent-%COMP%]{width:100%;background-color:#fff;border:2px solid #EFEFEF;padding-left:20px;border-radius:20px;height:28px;font-size:12px}.separador[_ngcontent-%COMP%]{width:20px}.content-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{padding:5px 20px;height:30px;background-color:#fff;border-radius:25px;border:none;font-size:14px;font-weight:700;color:#000;transition:all .2s ease-in-out;display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;margin-right:10px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;margin-right:10px}.end[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;padding-right:12px}.bg-b[_ngcontent-%COMP%]{background-color:#8dd7f7}.bg-y[_ngcontent-%COMP%]{background-color:#fff25c}.flexible[_ngcontent-%COMP%]{width:100%;display:flex}.wid-350[_ngcontent-%COMP%]{width:250px;min-height:100%;display:grid;justify-content:center;align-items:center;align-content:center}.w-rest[_ngcontent-%COMP%]{width:calc(100% - 250px);padding-left:12px}.end-2[_ngcontent-%COMP%]{text-align:end}.imgprofile[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:100px;border:2px solid #FFF25C;object-fit:cover}input[type=file][_ngcontent-%COMP%]{opacity:0;display:inline-block;width:200px;height:200px;border-radius:100px;position:absolute;z-index:999}"]}),i})();function k(i,n){1&i&&(o.TgZ(0,"div",3)(1,"label",4),o._uU(2,"Ingresos otra labor"),o.qZA(),o.TgZ(3,"select",68)(4,"option",38),o._uU(5,"0-500.000"),o.qZA(),o.TgZ(6,"option",39),o._uU(7,"500.001-1.000.000"),o.qZA(),o.TgZ(8,"option",40),o._uU(9,"2-2.5"),o.qZA(),o.TgZ(10,"option",41),o._uU(11,"2.5-3"),o.qZA()()())}function y(i,n){1&i&&(o.TgZ(0,"div",3)(1,"label",4),o._uU(2,"Tiempo de la otra labor"),o.qZA(),o.TgZ(3,"div",34),o._UZ(4,"input",69),o.TgZ(5,"select",70)(6,"option",26),o._uU(7,"Meses"),o.qZA(),o.TgZ(8,"option",25),o._uU(9,"A\xf1os"),o.qZA()()()())}function D(i,n){1&i&&o._UZ(0,"div",66)}function B(i,n){if(1&i){const t=o.EpF();o.TgZ(0,"button",71),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a._refrendar())}),o._UZ(1,"img",63),o._uU(2,"Refrendar"),o.qZA()}2&i&&(o.xp6(1),o.Q6J("src","assets/moneda.png",o.LSH))}let E=(()=>{class i{constructor(t,r){this.loading=t,this.fb=r,this.refrendar=new o.vpe,this.saveForm=new o.vpe,this.id=""}ngOnChanges(){this.conductor&&this.cargarDatos(),this.conductorBxC&&this.rellenar()}rellenar(){this.form.controls.parentescoJefeHogar.setValue(this.conductorBxC.parentescoJefeHogar),this.form.controls.numeroHijos.setValue(this.conductorBxC.numeroHijos),this.form.controls.personasCargo.setValue(this.conductorBxC.personasCargo),this.form.controls.nivelEducativoAlcanzado.setValue(this.conductorBxC.nivelEducativoAlcanzado),this.form.controls.estudia.setValue(this.conductorBxC.estudia),this.form.controls.tipoDiscapacidad.setValue(this.conductorBxC.tipoDiscapacidad),this.form.controls.taxistaOcacional.setValue(this.conductorBxC.taxistaOcacional),this.form.controls.tiempoComoConductor.setValue(this.conductorBxC.tiempoComoConductor),this.form.controls.conductorLaborUnidad.setValue(this.conductorBxC.conductorLaborUnidad),this.form.controls.ingresosAproxConductor.setValue(this.conductorBxC.ingresosAproxConductor),this.form.controls.otraLabor.setValue(this.conductorBxC.otraLabor),this.form.controls.ingresosOtraLabor.setValue(this.conductorBxC.ingresosOtraLabor),this.form.controls.tiempoOtraLabor.setValue(this.conductorBxC.tiempoOtraLabor),this.form.controls.otraLaborUnidad.setValue(this.conductorBxC.otraLaborUnidad),this.form.controls.estratoSocioEconomico.setValue(this.conductorBxC.estratoSocioEconomico),this.form.controls.tipoVivienda.setValue(this.conductorBxC.tipoVivienda),this.form.controls.luz.setValue(this.conductorBxC.luz),this.form.controls.agua.setValue(this.conductorBxC.agua),this.form.controls.gas.setValue(this.conductorBxC.gas),this.form.controls.alcantarillado.setValue(this.conductorBxC.alcantarillado),this.form.controls.recoleccionBasura.setValue(this.conductorBxC.recoleccionBasura)}otraLab(){"1"==this.form.controls.otraLabor.value?(this.form.controls.ingresosOtraLabor.setValidators([e.kI.required]),this.form.controls.tiempoOtraLabor.setValidators([e.kI.required]),this.form.controls.otraLaborUnidad.setValidators([e.kI.required])):(this.form.controls.ingresosOtraLabor.clearValidators(),this.form.controls.tiempoOtraLabor.clearValidators(),this.form.controls.otraLaborUnidad.clearValidators(),this.form.controls.ingresosOtraLabor.updateValueAndValidity(),this.form.controls.tiempoOtraLabor.updateValueAndValidity(),this.form.controls.otraLaborUnidad.updateValueAndValidity())}cargarDatos(){this.form.controls.parentescoJefeHogar.setValue(this.conductor.conductor.parentescoJefeHogar),this.form.controls.numeroHijos.setValue(this.conductor.conductor.numeroHijos),this.form.controls.personasCargo.setValue(this.conductor.conductor.personasCargo),this.form.controls.nivelEducativoAlcanzado.setValue(this.conductor.conductor.nivelEducativoAlcanzado),this.form.controls.estudia.setValue(this.conductor.conductor.estudia),this.form.controls.tipoDiscapacidad.setValue(this.conductor.conductor.tipoDiscapacidad),this.form.controls.taxistaOcacional.setValue(this.conductor.conductor.taxistaOcacional),this.form.controls.tiempoComoConductor.setValue(this.conductor.conductor.tiempoComoConductor),this.form.controls.conductorLaborUnidad.setValue(this.conductor.conductor.conductorLaborUnidad),this.form.controls.ingresosAproxConductor.setValue(this.conductor.conductor.ingresosAproxConductor),this.form.controls.otraLabor.setValue(this.conductor.conductor.otraLabor),this.form.controls.ingresosOtraLabor.setValue(this.conductor.conductor.ingresosOtraLabor),this.form.controls.tiempoOtraLabor.setValue(this.conductor.conductor.tiempoOtraLabor),this.form.controls.otraLaborUnidad.setValue(this.conductor.conductor.otraLaborUnidad),this.form.controls.estratoSocioEconomico.setValue(this.conductor.conductor.estratoSocioEconomico),this.form.controls.tipoVivienda.setValue(this.conductor.conductor.tipoVivienda),this.form.controls.luz.setValue(this.conductor.conductor.luz),this.form.controls.agua.setValue(this.conductor.conductor.agua),this.form.controls.gas.setValue(this.conductor.conductor.gas),this.form.controls.alcantarillado.setValue(this.conductor.conductor.alcantarillado),this.form.controls.recoleccionBasura.setValue(this.conductor.conductor.recoleccionBasura)}_next(){this.form.markAllAsTouched(),this.form.valid?parseInt(this.form.controls.tiempoComoConductor.value)<=0?this.loading.error("Por favor, ingrese el tiempo valido como conductor"):"1"==this.form.controls.otraLabor.value&&parseInt(this.form.controls.tiempoOtraLabor.value)<=0?this.loading.error("Por favor, ingrese el tiempo valido realizando la otra labor."):this.saveForm.emit({...this.form.value}):this.validarCampos2()}_refrendar(){this.refrendar.emit()}validarCampos2(){this.form.controls.parentescoJefeHogar.valid?this.form.controls.numeroHijos.valid?this.form.controls.personasCargo.valid?this.form.controls.nivelEducativoAlcanzado.valid?this.form.controls.estudia.valid?this.form.controls.tipoDiscapacidad.valid?this.form.controls.taxistaOcacional.valid?this.form.controls.tiempoComoConductor.valid?this.form.controls.conductorLaborUnidad.valid?this.form.controls.ingresosAproxConductor.valid?this.form.controls.otraLabor.valid?this.form.controls.ingresosOtraLabor.valid?this.form.controls.tiempoOtraLabor.valid?this.form.controls.otraLaborUnidad.valid?this.form.controls.estratoSocioEconomico.valid?this.form.controls.tipoVivienda.valid?this.form.controls.luz.valid?this.form.controls.agua.valid?this.form.controls.gas.valid?this.form.controls.alcantarillado.valid?this.form.controls.recoleccionBasura.valid||this.loading.error("Por favor, seleccione si tiene servicio de recolecci\xf3n de basura."):this.loading.error("Por favor, seleccione ti tiene servicio de alcantarillado."):this.loading.error("Por favor, seleccione si tiene servicio de gas."):this.loading.error("Por favor, seleccione si tiene servicio de agua."):this.loading.error("Por favor, seleccione si tiene servicio de luz ."):this.loading.error("Por favor, seleccione el tipo de vivienda."):this.loading.error("Por favor, seleccione el estrato socioecon\xf3mico."):this.loading.error("Por favor, seleccione la unidad de tiempo con la otra labor"):this.loading.error("Por favor, ingrese el tiempo realizando la otra labor."):this.loading.error("Por favor, seleccione los ingresos aproximados realizando la otra labor."):this.loading.error("Por favor, seleccione si el conductor realiza otra labor."):this.loading.error("Por favor, seleccione los ingresos aproximados como conductor."):this.loading.error("Por favor, seleccione la unidad de tiempo como conductor"):this.loading.error("Por favor, ingrese el tiempo como conductor"):this.loading.error("Por favor, seleccione si el conductor es taxista ocacional o no."):this.loading.error("Por favor, seleccione el tipo de discapacidad."):this.loading.error("Por favor, seleccione si el conductor estudia o no."):this.loading.error("Por favor, seleccione el nivel educativo alcanzado."):this.loading.error("Por favor, ingrese las personas a cargo."):this.loading.error("Por favor, ingrese el n\xfamero de hijos."):this.loading.error("Por favor, seleccione el parentesco con el jefe del hogar.")}}return i.\u0275fac=function(t){return new(t||i)(o.Y36(f.b),o.Y36(e.qu))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-info-complementaria"]],inputs:{conductor:"conductor",conductorBxC:"conductorBxC",id:"id",form:"form"},outputs:{refrendar:"refrendar",saveForm:"saveForm"},features:[o.TTD],decls:192,vars:7,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"card-formulario","sombra"],[1,"row"],[1,"col-3"],[1,"subtitulo"],["type","text","formControlName","parentescoJefeHogar",1,"input"],["value","Ninguno"],["value","Jefe de hogar"],["value","Padre"],["value","Hijo(a)"],["value","Madre"],["value","Hermano(a)"],["value","Primo(a)"],["value","Sobrino(a)"],["value","Nieto(a)"],["value","Ahijado(a)"],["type","text","formControlName","numeroHijos",1,"input"],["type","text","formControlName","personasCargo",1,"input"],["type","text","formControlName","nivelEducativoAlcanzado",1,"input"],["value","Bachiller"],["value","T\xe9cnico"],["value","Tecnol\xf3go"],["value","Profesional"],["value","Postgrado"],["type","text","formControlName","estudia",1,"input"],["value","2"],["value","1"],["type","text","formControlName","tipoDiscapacidad",1,"input"],["value","No posee"],["value","F\xedsica"],["value","Sensorial"],["value","Ps\xedquica"],["value","Intelectual o mental"],["type","text","formControlName","taxistaOcacional",1,"input"],[1,"combi"],["type","text","formControlName","tiempoComoConductor",1,"input-iz"],["formControlName","conductorLaborUnidad",1,"input-de"],["type","text","formControlName","ingresosAproxConductor",1,"input"],["value","0-500.000"],["value","500.001-1.000.000"],["value","2-2.5"],["value","2.5-3"],["type","text","formControlName","otraLabor",1,"input",3,"change"],["class","col-3",4,"ngIf"],["type","text","formControlName","estratoSocioEconomico",1,"input"],["value","SIN ESTRATO"],["value","3"],["value","4"],["value","5"],["value","6"],["type","text","formControlName","tipoVivienda",1,"input"],["value","Propia"],["value","Arrendada"],["value","Familiar"],["type","text","formControlName","luz",1,"input"],["type","text","formControlName","agua",1,"input"],["type","text","formControlName","gas",1,"input"],["type","text","formControlName","alcantarillado",1,"input"],["type","text","formControlName","recoleccionBasura",1,"input"],[1,"row","mt-20"],[1,"col-6"],[1,"col-6","end"],["type","submit",1,"sombra","bg-b"],[3,"src"],["class","separador",4,"ngIf"],["class","sombra bg-r","type","button",3,"click",4,"ngIf"],[1,"separador"],[1,"sombra","bg-r",3,"routerLink"],["type","text","formControlName","ingresosOtraLabor",1,"input"],["type","text","formControlName","tiempoOtraLabor",1,"input-iz"],["formControlName","otraLaborUnidad",1,"input-de"],["type","button",1,"sombra","bg-r",3,"click"]],template:function(t,r){1&t&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return r._next()}),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),o._uU(5,"Parentesco jefe hogar"),o.qZA(),o.TgZ(6,"select",5)(7,"option",6),o._uU(8,"Ninguno"),o.qZA(),o.TgZ(9,"option",7),o._uU(10,"Jefe de hogar"),o.qZA(),o.TgZ(11,"option",8),o._uU(12,"Padre"),o.qZA(),o.TgZ(13,"option",9),o._uU(14,"Hijo(a)"),o.qZA(),o.TgZ(15,"option",10),o._uU(16,"Madre"),o.qZA(),o.TgZ(17,"option",11),o._uU(18,"Hermano(a)"),o.qZA(),o.TgZ(19,"option",12),o._uU(20,"Primo(a)"),o.qZA(),o.TgZ(21,"option",13),o._uU(22,"Sobrino(a)"),o.qZA(),o.TgZ(23,"option",14),o._uU(24,"Nieto(a)"),o.qZA(),o.TgZ(25,"option",15),o._uU(26,"Ahijado(a)"),o.qZA()()(),o.TgZ(27,"div",3)(28,"label",4),o._uU(29,"N\xfamero de hijos"),o.qZA(),o._UZ(30,"input",16),o.qZA(),o.TgZ(31,"div",3)(32,"label",4),o._uU(33,"Personas a cargo"),o.qZA(),o._UZ(34,"input",17),o.qZA(),o.TgZ(35,"div",3)(36,"label",4),o._uU(37,"Nivel educativo"),o.qZA(),o.TgZ(38,"select",18)(39,"option",6),o._uU(40,"Ninguno"),o.qZA(),o.TgZ(41,"option",19),o._uU(42,"Bachiller"),o.qZA(),o.TgZ(43,"option",20),o._uU(44,"T\xe9cnico"),o.qZA(),o.TgZ(45,"option",21),o._uU(46,"Tecnol\xf3go"),o.qZA(),o.TgZ(47,"option",22),o._uU(48,"Profesional"),o.qZA(),o.TgZ(49,"option",23),o._uU(50,"Postgrado"),o.qZA()()(),o.TgZ(51,"div",3)(52,"label",4),o._uU(53,"\xbfEstudia actualmente?"),o.qZA(),o.TgZ(54,"select",24)(55,"option",25),o._uU(56,"No"),o.qZA(),o.TgZ(57,"option",26),o._uU(58,"Si"),o.qZA()()(),o.TgZ(59,"div",3)(60,"label",4),o._uU(61,"Tipo de discapacidad"),o.qZA(),o.TgZ(62,"select",27)(63,"option",28),o._uU(64,"No posee"),o.qZA(),o.TgZ(65,"option",29),o._uU(66,"F\xedsica"),o.qZA(),o.TgZ(67,"option",30),o._uU(68,"Sensorial"),o.qZA(),o.TgZ(69,"option",31),o._uU(70,"Ps\xedquica"),o.qZA(),o.TgZ(71,"option",32),o._uU(72,"Intelectual o mental"),o.qZA()()(),o.TgZ(73,"div",3)(74,"label",4),o._uU(75,"Taxista ocasional"),o.qZA(),o.TgZ(76,"select",33)(77,"option",25),o._uU(78,"No"),o.qZA(),o.TgZ(79,"option",26),o._uU(80,"Si"),o.qZA()()(),o.TgZ(81,"div",3)(82,"label",4),o._uU(83,"Tiempo como conductor"),o.qZA(),o.TgZ(84,"div",34),o._UZ(85,"input",35),o.TgZ(86,"select",36)(87,"option",26),o._uU(88,"Meses"),o.qZA(),o.TgZ(89,"option",25),o._uU(90,"A\xf1os"),o.qZA()()()(),o.TgZ(91,"div",3)(92,"label",4),o._uU(93,"Ingresos como conductor"),o.qZA(),o.TgZ(94,"select",37)(95,"option",38),o._uU(96,"0-500.000"),o.qZA(),o.TgZ(97,"option",39),o._uU(98,"500.001-1.000.000"),o.qZA(),o.TgZ(99,"option",40),o._uU(100,"2-2.5"),o.qZA(),o.TgZ(101,"option",41),o._uU(102,"2.5-3"),o.qZA()()(),o.TgZ(103,"div",3)(104,"label",4),o._uU(105,"\xbfRealiza otra labor?"),o.qZA(),o.TgZ(106,"select",42),o.NdJ("change",function(){return r.otraLab()}),o.TgZ(107,"option",25),o._uU(108,"No"),o.qZA(),o.TgZ(109,"option",26),o._uU(110,"Si"),o.qZA()()(),o.YNc(111,k,12,0,"div",43),o.YNc(112,y,10,0,"div",43),o.TgZ(113,"div",3)(114,"label",4),o._uU(115,"Estatro socioeconomico"),o.qZA(),o.TgZ(116,"select",44)(117,"option",45),o._uU(118,"SIN ESTRATO"),o.qZA(),o.TgZ(119,"option",26),o._uU(120,"1"),o.qZA(),o.TgZ(121,"option",25),o._uU(122,"2"),o.qZA(),o.TgZ(123,"option",46),o._uU(124,"3"),o.qZA(),o.TgZ(125,"option",47),o._uU(126,"4"),o.qZA(),o.TgZ(127,"option",48),o._uU(128,"5"),o.qZA(),o.TgZ(129,"option",49),o._uU(130,"6"),o.qZA()()(),o.TgZ(131,"div",3)(132,"label",4),o._uU(133,"Tipo de vivienda"),o.qZA(),o.TgZ(134,"select",50)(135,"option",51),o._uU(136,"Propia"),o.qZA(),o.TgZ(137,"option",52),o._uU(138,"Arrendada"),o.qZA(),o.TgZ(139,"option",53),o._uU(140,"Familiar"),o.qZA()()(),o.TgZ(141,"div",3)(142,"label",4),o._uU(143,"Acceso a energ\xeda"),o.qZA(),o.TgZ(144,"select",54)(145,"option",25),o._uU(146,"No"),o.qZA(),o.TgZ(147,"option",26),o._uU(148,"Si"),o.qZA()()(),o.TgZ(149,"div",3)(150,"label",4),o._uU(151,"Acceso a agua"),o.qZA(),o.TgZ(152,"select",55)(153,"option",25),o._uU(154,"No"),o.qZA(),o.TgZ(155,"option",26),o._uU(156,"Si"),o.qZA()()(),o.TgZ(157,"div",3)(158,"label",4),o._uU(159,"Acceso a gas"),o.qZA(),o.TgZ(160,"select",56)(161,"option",25),o._uU(162,"No"),o.qZA(),o.TgZ(163,"option",26),o._uU(164,"Si"),o.qZA()()(),o.TgZ(165,"div",3)(166,"label",4),o._uU(167,"Acceso a alcantarillado"),o.qZA(),o.TgZ(168,"select",57)(169,"option",25),o._uU(170,"No"),o.qZA(),o.TgZ(171,"option",26),o._uU(172,"Si"),o.qZA()()(),o.TgZ(173,"div",3)(174,"label",4),o._uU(175,"Acceso a recoleci\xf3n de basura"),o.qZA(),o.TgZ(176,"select",58)(177,"option",25),o._uU(178,"No"),o.qZA(),o.TgZ(179,"option",26),o._uU(180,"Si"),o.qZA()()()(),o.TgZ(181,"div",59),o._UZ(182,"div",60),o.TgZ(183,"div",61)(184,"button",62),o._UZ(185,"img",63),o._uU(186,"Guardar todo"),o.qZA(),o.YNc(187,D,1,0,"div",64),o.YNc(188,B,3,1,"button",65),o._UZ(189,"div",66),o.TgZ(190,"button",67),o._uU(191,"Cancelar"),o.qZA()()()()()),2&t&&(o.Q6J("formGroup",r.form),o.xp6(111),o.Q6J("ngIf","1"==r.form.controls.otraLabor.value),o.xp6(1),o.Q6J("ngIf","1"==r.form.controls.otraLabor.value),o.xp6(73),o.Q6J("src","assets/guardar.svg",o.LSH),o.xp6(2),o.Q6J("ngIf",r.id),o.xp6(1),o.Q6J("ngIf",r.id),o.xp6(2),o.Q6J("routerLink","/empresa/buscar-conductores"))},dependencies:[d.O5,u.rH,e._Y,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.JL,e.sg,e.u],styles:[".contenedor[_ngcontent-%COMP%]{padding:15px 20px;height:100%}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.card-formulario[_ngcontent-%COMP%]{width:100%;padding:30px;background-color:#fff;border-radius:25px}.subtitulo[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#000;margin-left:20px}.input[_ngcontent-%COMP%]{width:100%;background-color:#fff;border:2px solid #EFEFEF;padding-left:20px;border-radius:20px;height:28px;font-size:12px}.separador[_ngcontent-%COMP%]{width:20px}.content-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{padding:5px 20px;height:30px;background-color:#fff;border-radius:25px;border:none;font-size:14px;font-weight:700;color:#000;transition:all .2s ease-in-out}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;margin-right:10px}.bg-b[_ngcontent-%COMP%]{background-color:#8dd7f7}.bg-y[_ngcontent-%COMP%]{background-color:#fff25c}.flexible[_ngcontent-%COMP%]{width:100%;display:flex}.col-3[_ngcontent-%COMP%]{margin-top:10px}.input-iz[_ngcontent-%COMP%]{width:70%;background-color:#fff;border:2px solid #EFEFEF;padding-left:20px;border-radius:20px 0 0 20px/20px 0px 0px 20px;height:28px;font-size:12px;border-right:0px}.input-de[_ngcontent-%COMP%]{width:30%;background-color:#fff;border:2px solid #EFEFEF;padding-left:5px;height:28px;font-size:12px;border-radius:0 20px 20px 0/0px 20px 20px 0px}.combi[_ngcontent-%COMP%]{display:flex}.end[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;padding-right:12px}"]}),i})();function R(i,n){if(1&i&&(o.TgZ(0,"option",38),o._uU(1),o.qZA()),2&i){const t=n.$implicit;o.s9C("value",t.id),o.xp6(1),o.Oqu(t.marca)}}function S(i,n){if(1&i&&(o.TgZ(0,"option",38),o._uU(1),o.qZA()),2&i){const t=n.$implicit;o.s9C("value",t.id),o.xp6(1),o.Oqu(t.nombre)}}function J(i,n){if(1&i&&(o.TgZ(0,"option",38),o._uU(1),o.qZA()),2&i){const t=n.$implicit;o.s9C("value",t.id),o.xp6(1),o.Oqu(t.razonsocial)}}function L(i,n){1&i&&o._UZ(0,"div",36)}function j(i,n){if(1&i){const t=o.EpF();o.TgZ(0,"button",39),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a._refrendar())}),o._UZ(1,"img",33),o._uU(2,"Refrendar"),o.qZA()}2&i&&(o.xp6(1),o.Q6J("src","assets/moneda.png",o.LSH))}let z=(()=>{class i{constructor(t,r,a){this.loading=t,this.aC=r,this.fb=a,this.mask=[/[0-3]/,/[0-9]/,"/",/[0-1]/,/[0-9]/,"/",/[1-2]/,/[0-9]/,/[0-9]/,/[0-9]/],this.refrendar=new o.vpe,this.saveForm=new o.vpe,this.busquedaXPlaca=new o.vpe,this.id="",this._debounce=new Z.x,this.aseguradoras=[],this.marcas=[],this.asociaciones=[],this.cargarData(),this._debounce.pipe((0,b.b)(500)).subscribe(s=>{this.busquedaXPlaca.emit(this.form.controls.placa.value)})}ngOnChanges(){this.conductor&&this.cargarDatos(),this.vehiculoBxC&&this.rellenar()}debounce(){this._debounce.next(this.form.controls.placa.value)}cargarData(){this.aC.obtenerMarcas().subscribe({next:t=>this.marcas=t}),this.aC.obtenerAseguradoras().subscribe({next:t=>this.aseguradoras=t}),this.aC.obtenerAsociaciones().subscribe({next:t=>this.asociaciones=t})}rellenar(){this.form.controls.placa.setValue(this.vehiculoBxC.placa),this.form.controls.idMarca.setValue(this.vehiculoBxC.idMarca),this.form.controls.modelo.setValue(this.vehiculoBxC.modelo),this.form.controls.cedulaPropietario.setValue(this.vehiculoBxC.cedulaPropietario),this.form.controls.nombrePropietario.setValue(this.vehiculoBxC.nombrePropietario),this.form.controls.direccionPropietario.setValue(this.vehiculoBxC.direccionPropietario),this.form.controls.telefonoPropietario.setValue(this.vehiculoBxC.telefonoPropietario),this.form.controls.numeroMotor.setValue(this.vehiculoBxC.numeroMotor),this.form.controls.numeroChasis.setValue(this.vehiculoBxC.numeroChasis),this.form.controls.tarjetaOperacion.setValue(this.vehiculoBxC.tarjetaOperacion),this.form.controls.fechaTarjetaOperacion.setValue(this.setFormat(this.vehiculoBxC.fechaTarjetaOperacion)),this.form.controls.fechaTarjetaOperacionF.setValue(this.setFormat(this.vehiculoBxC.fechaTarjetaOperacionF)),this.form.controls.numeroRCC.setValue(this.vehiculoBxC.numeroRCC),this.form.controls.numeroRCE.setValue(this.vehiculoBxC.numeroRCE),this.form.controls.numeroSOAT.setValue(this.vehiculoBxC.numeroSOAT),this.form.controls.numeroTecnoMecanica.setValue(this.vehiculoBxC.numeroTecnoMecanica),this.form.controls.fechaNumeroRCC.setValue(this.setFormat(this.vehiculoBxC.fechaNumeroRCC)),this.form.controls.fechaNumeroRCE.setValue(this.setFormat(this.vehiculoBxC.fechaNumeroRCE)),this.form.controls.fechaNumeroSOAT.setValue(this.setFormat(this.vehiculoBxC.fechaNumeroSOAT)),this.form.controls.fechaNumeroTecnoMecanica.setValue(this.setFormat(this.vehiculoBxC.fechaNumeroTecnoMecanica)),this.form.controls.idAseguradora.setValue(this.vehiculoBxC.idAseguradora),this.form.controls.idAsociacion.setValue(this.vehiculoBxC.idAsociacion),this.form.controls.idMatricula.setValue(this.vehiculoBxC.idMatricula)}cargarDatos(){this.form.controls.placa.setValue(this.conductor.vehiculo.placa),this.form.controls.idMarca.setValue(this.conductor.vehiculo.idMarca),this.form.controls.modelo.setValue(this.conductor.vehiculo.modelo),this.form.controls.cedulaPropietario.setValue(this.conductor.vehiculo.cedulaPropietario),this.form.controls.nombrePropietario.setValue(this.conductor.vehiculo.nombrePropietario),this.form.controls.direccionPropietario.setValue(this.conductor.vehiculo.direccionPropietario),this.form.controls.telefonoPropietario.setValue(this.conductor.vehiculo.telefonoPropietario),this.form.controls.numeroMotor.setValue(this.conductor.vehiculo.numeroMotor),this.form.controls.numeroChasis.setValue(this.conductor.vehiculo.numeroChasis),this.form.controls.tarjetaOperacion.setValue(this.conductor.vehiculo.tarjetaOperacion),this.form.controls.fechaTarjetaOperacion.setValue(this.setFormat(this.conductor.vehiculo.fechaTarjetaOperacion)),this.form.controls.fechaTarjetaOperacionF.setValue(this.setFormat(this.conductor.vehiculo.fechaTarjetaOperacionF)),this.form.controls.numeroRCC.setValue(this.conductor.vehiculo.numeroRCC),this.form.controls.numeroRCE.setValue(this.conductor.vehiculo.numeroRCE),this.form.controls.numeroSOAT.setValue(this.conductor.vehiculo.numeroSOAT),this.form.controls.numeroTecnoMecanica.setValue(this.conductor.vehiculo.numeroTecnoMecanica),this.form.controls.fechaNumeroRCC.setValue(this.setFormat(this.conductor.vehiculo.fechaNumeroRCC)),this.form.controls.fechaNumeroRCE.setValue(this.setFormat(this.conductor.vehiculo.fechaNumeroRCE)),this.form.controls.fechaNumeroSOAT.setValue(this.setFormat(this.conductor.vehiculo.fechaNumeroSOAT)),this.form.controls.fechaNumeroTecnoMecanica.setValue(this.setFormat(this.conductor.vehiculo.fechaNumeroTecnoMecanica)),this.form.controls.idAseguradora.setValue(this.conductor.vehiculo.idAseguradora),this.form.controls.idAsociacion.setValue(this.conductor.vehiculo.idAsociacion),this.form.controls.idMatricula.setValue(this.conductor.vehiculo.idMatricula)}setFormat(t){return t?c(t).utc().format("YYYY/MM/DD"):""}_guardar(){this.form.markAllAsTouched(),this.form.valid?this.validarCampos1():this.validarCampos2()}_refrendar(){this.refrendar.emit()}validarCampos1(){var t=new Date,r=new Date(c(this.form.controls.fechaTarjetaOperacion.value).format("YYYY-MM-DD")),a=new Date(c(this.form.controls.fechaTarjetaOperacionF.value).format("YYYY-MM-DD")),s=new Date(c(this.form.controls.fechaNumeroRCC.value).format("YYYY-MM-DD")),m=new Date(c(this.form.controls.fechaNumeroRCE.value).format("YYYY-MM-DD")),v=new Date(c(this.form.controls.fechaNumeroSOAT.value).format("YYYY-MM-DD")),C=new Date(c(this.form.controls.fechaNumeroTecnoMecanica.value).format("YYYY-MM-DD"));t.getTime()<r.getTime()?this.loading.error("Fecha de expedici\xf3n de tarjeta de operaci\xf3n inv\xe1lida, por favor ingresa una fecha v\xe1lida."):t.getTime()>a.getTime()?this.loading.error("Fecha de tarjeta de operaci\xf3n vencida, por favor ingresa una fecha v\xe1lida."):t.getTime()>m.getTime()?this.loading.error("Fecha de RCE vencida, por favor ingresa una fecha v\xe1lida."):t.getTime()>s.getTime()?this.loading.error("Fecha de RCC vencida, por favor ingresa una fecha v\xe1lida."):t.getTime()>v.getTime()?this.loading.error("Fecha de SOAT vencida, por favor ingresa una fecha v\xe1lida."):t.getTime()>C.getTime()?this.loading.error("Fecha de la revisi\xf3n t\xe9cnico mec\xe1nica vencida, por favor ingresa una fecha v\xe1lida."):this.saveForm.emit({...this.form.value,fechaTarjetaOperacion:c(this.form.controls.fechaTarjetaOperacion.value).format("DD/MM/YYYY"),fechaTarjetaOperacionF:c(this.form.controls.fechaTarjetaOperacionF.value).format("DD/MM/YYYY"),fechaNumeroRCC:c(this.form.controls.fechaNumeroRCC.value).format("DD/MM/YYYY"),fechaNumeroRCE:c(this.form.controls.fechaNumeroRCE.value).format("DD/MM/YYYY"),fechaNumeroSOAT:c(this.form.controls.fechaNumeroSOAT.value).format("DD/MM/YYYY"),fechaNumeroTecnoMecanica:c(this.form.controls.fechaNumeroTecnoMecanica.value).format("DD/MM/YYYY")})}validarCampos2(){this.form.controls.placa.valid?this.form.controls.idMarca.valid?this.form.controls.modelo.valid?this.form.controls.cedulaPropietario.valid?this.form.controls.nombrePropietario.valid?this.form.controls.direccionPropietario.valid?this.form.controls.telefonoPropietario.valid?this.form.controls.numeroMotor.valid?this.form.controls.numeroChasis.valid?this.form.controls.tarjetaOperacion.valid?this.form.controls.fechaTarjetaOperacion.valid?this.form.controls.fechaTarjetaOperacionF.valid?this.form.controls.numeroRCC.valid?this.form.controls.numeroRCE.valid?this.form.controls.numeroSOAT.valid?this.form.controls.numeroTecnoMecanica.valid?this.form.controls.fechaNumeroRCC.valid?this.form.controls.fechaNumeroRCE.valid?this.form.controls.fechaNumeroSOAT.valid?this.form.controls.fechaNumeroTecnoMecanica.valid?this.form.controls.idAseguradora.valid?this.form.controls.idAsociacion.valid?this.form.controls.idMatricula.valid||this.loading.error("Por favor, ingrese el numero de registro del veh\xedculo."):this.loading.error("Por favor, seleccione la asociaci\xf3n del veh\xedculo."):this.loading.error("Por favor, seleccione la aseguradora del veh\xedculo."):this.loading.error("Por favor, ingrese la fecha de vencimiento de la t\xe9cnico mec\xe1nica del veh\xedculo."):this.loading.error("Por favor, ingrese la fecha de vencimiento del SOAT del veh\xedculo."):this.loading.error("Por favor, ingrese la fecha de vencimiento del RCC del veh\xedculo."):this.loading.error("Por favor, ingrese la fecha de vencimiento del RCE del veh\xedculo."):this.loading.error("Por favor, ingrese la t\xe9cnico mec\xe1nica del veh\xedculo."):this.loading.error("Por favor, ingrese el n\xfamero SOAT del veh\xedculo."):this.loading.error("Por favor, ingrese el RCE del veh\xedculo."):this.loading.error("Por favor, ingrese el RCC del veh\xedculo."):this.loading.error("Por favor, ingrese la fecha de vencimiento de la tarjeta de operaci\xf3n del veh\xedculo."):this.loading.error("Por favor, ingrese la fecha de expedici\xf3n de la tarjeta de operaci\xf3n del veh\xedculo."):this.loading.error("Por favor, ingrese el n\xfamero de tarjeta de operaci\xf3n del veh\xedculo."):this.loading.error("Por favor, ingrese el n\xfamero de chasis del veh\xedculo."):this.loading.error("Por favor, ingrese el n\xfamero de motor del veh\xedculo."):this.loading.error("Por favor, ingrese el telefono del propietario del veh\xedculo."):this.loading.error("Por favor, ingrese la direcci\xf3n del propietario del veh\xedculo."):this.loading.error("Por favor, ingrese el nombre completo del propietario del veh\xedculo."):this.loading.error("Por favor, ingrese la c\xe9dula del propietario del veh\xedculo."):this.loading.error("Por favor, ingrese el modelo del veh\xedculo."):this.loading.error("Por favor, seleccione la marca del veh\xedculo."):this.loading.error("Por favor, ingrese la placa del veh\xedculo.")}}return i.\u0275fac=function(t){return new(t||i)(o.Y36(f.b),o.Y36(h.E),o.Y36(e.qu))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-vehiculo"]],inputs:{conductor:"conductor",vehiculoBxC:"vehiculoBxC",id:"id",form:"form"},outputs:{refrendar:"refrendar",saveForm:"saveForm",busquedaXPlaca:"busquedaXPlaca"},features:[o.TTD],decls:110,vars:20,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"card-formulario","sombra"],[1,"row"],[1,"col-3"],[1,"subtitulo"],["type","text","formControlName","placa",1,"input",3,"keyup"],["type","text","formControlName","idMarca",1,"input"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","modelo",1,"input"],["type","text","formControlName","cedulaPropietario",1,"input"],["type","text","formControlName","nombrePropietario",1,"input"],["type","text","formControlName","direccionPropietario",1,"input"],["type","text","formControlName","telefonoPropietario",1,"input"],["type","text","formControlName","numeroMotor",1,"input"],["type","text","formControlName","numeroChasis",1,"input"],["type","text","formControlName","tarjetaOperacion",1,"input"],["type","text","formControlName","fechaTarjetaOperacion",1,"input",3,"placeholder","mask"],["type","text","formControlName","fechaTarjetaOperacionF",1,"input",3,"placeholder","mask"],["type","text","formControlName","numeroRCC",1,"input"],["type","text","formControlName","numeroRCE",1,"input"],["type","text","formControlName","numeroSOAT",1,"input"],["type","text","formControlName","numeroTecnoMecanica",1,"input"],["type","text","formControlName","fechaNumeroRCC",1,"input",3,"placeholder","mask"],["type","text","formControlName","fechaNumeroRCE",1,"input",3,"placeholder","mask"],["type","text","formControlName","fechaNumeroSOAT",1,"input",3,"placeholder","mask"],["type","text","formControlName","fechaNumeroTecnoMecanica",1,"input",3,"placeholder","mask"],["type","text","formControlName","idAseguradora",1,"input"],["type","text","formControlName","idAsociacion",1,"input"],["type","text","formControlName","idMatricula",1,"input"],[1,"row","mt-20"],[1,"col-6"],[1,"col-6","end"],["type","submit",1,"sombra","bg-b"],[3,"src"],["class","separador",4,"ngIf"],["class","sombra bg-r","type","button",3,"click",4,"ngIf"],[1,"separador"],[1,"sombra","bg-r",3,"routerLink"],[3,"value"],["type","button",1,"sombra","bg-r",3,"click"]],template:function(t,r){1&t&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return r._guardar()}),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),o._uU(5,"Placa"),o.qZA(),o.TgZ(6,"input",5),o.NdJ("keyup",function(){return r.debounce()}),o.qZA()(),o.TgZ(7,"div",3)(8,"label",4),o._uU(9,"Marca"),o.qZA(),o.TgZ(10,"select",6),o.YNc(11,R,2,2,"option",7),o.qZA()(),o.TgZ(12,"div",3)(13,"label",4),o._uU(14,"Modelo"),o.qZA(),o._UZ(15,"input",8),o.qZA(),o.TgZ(16,"div",3)(17,"label",4),o._uU(18,"C\xe9dula o NIT de propietario"),o.qZA(),o._UZ(19,"input",9),o.qZA(),o.TgZ(20,"div",3)(21,"label",4),o._uU(22,"Nombre completo propietario"),o.qZA(),o._UZ(23,"input",10),o.qZA(),o.TgZ(24,"div",3)(25,"label",4),o._uU(26,"Direcci\xf3n del propietario"),o.qZA(),o._UZ(27,"input",11),o.qZA(),o.TgZ(28,"div",3)(29,"label",4),o._uU(30,"Tel\xe9fono del propietario"),o.qZA(),o._UZ(31,"input",12),o.qZA(),o.TgZ(32,"div",3)(33,"label",4),o._uU(34,"N\xba Motor"),o.qZA(),o._UZ(35,"input",13),o.qZA(),o.TgZ(36,"div",3)(37,"label",4),o._uU(38,"N\xba Chasis"),o.qZA(),o._UZ(39,"input",14),o.qZA(),o.TgZ(40,"div",3)(41,"label",4),o._uU(42,"N\xba Tarjeta de Operaci\xf3n"),o.qZA(),o._UZ(43,"input",15),o.qZA(),o.TgZ(44,"div",3)(45,"label",4),o._uU(46,"Fecha de exp. tarjeta"),o.qZA(),o._UZ(47,"input",16),o.qZA(),o.TgZ(48,"div",3)(49,"label",4),o._uU(50,"Fecha de venc. tarjeta"),o.qZA(),o._UZ(51,"input",17),o.qZA(),o.TgZ(52,"div",3)(53,"label",4),o._uU(54,"N\xba RCC"),o.qZA(),o._UZ(55,"input",18),o.qZA(),o.TgZ(56,"div",3)(57,"label",4),o._uU(58,"N\xba RCE"),o.qZA(),o._UZ(59,"input",19),o.qZA(),o.TgZ(60,"div",3)(61,"label",4),o._uU(62,"N\xba SOAT"),o.qZA(),o._UZ(63,"input",20),o.qZA(),o.TgZ(64,"div",3)(65,"label",4),o._uU(66,"N\xba Tecnicomec\xe1nica"),o.qZA(),o._UZ(67,"input",21),o.qZA(),o.TgZ(68,"div",3)(69,"label",4),o._uU(70,"Fecha de venc. RCC"),o.qZA(),o._UZ(71,"input",22),o.qZA(),o.TgZ(72,"div",3)(73,"label",4),o._uU(74,"Fecha de venc. RCE"),o.qZA(),o._UZ(75,"input",23),o.qZA(),o.TgZ(76,"div",3)(77,"label",4),o._uU(78,"Fecha de venc. SOAT"),o.qZA(),o._UZ(79,"input",24),o.qZA(),o.TgZ(80,"div",3)(81,"label",4),o._uU(82,"Fecha de venc. t\xe9cnicomec\xe1nica"),o.qZA(),o._UZ(83,"input",25),o.qZA(),o.TgZ(84,"div",3)(85,"label",4),o._uU(86,"Aseguradora"),o.qZA(),o.TgZ(87,"select",26),o.YNc(88,S,2,2,"option",7),o.qZA()(),o.TgZ(89,"div",3)(90,"label",4),o._uU(91,"Asocici\xf3n"),o.qZA(),o.TgZ(92,"select",27),o.YNc(93,J,2,2,"option",7),o.qZA()(),o.TgZ(94,"div",3)(95,"label",4),o._uU(96,"N\xba Registro (censo)"),o.qZA(),o._UZ(97,"input",28),o.qZA(),o._UZ(98,"div",3),o.qZA(),o.TgZ(99,"div",29),o._UZ(100,"div",30),o.TgZ(101,"div",31)(102,"button",32),o._UZ(103,"img",33),o._uU(104,"Guardar todo"),o.qZA(),o.YNc(105,L,1,0,"div",34),o.YNc(106,j,3,1,"button",35),o._UZ(107,"div",36),o.TgZ(108,"button",37),o._uU(109,"Cancelar"),o.qZA()()()()()),2&t&&(o.Q6J("formGroup",r.form),o.xp6(11),o.Q6J("ngForOf",r.marcas),o.xp6(36),o.Q6J("placeholder","aaaa/mm/dd")("mask","9999/99/99"),o.xp6(4),o.Q6J("placeholder","aaaa/mm/dd")("mask","9999/99/99"),o.xp6(20),o.Q6J("placeholder","aaaa/mm/dd")("mask","9999/99/99"),o.xp6(4),o.Q6J("placeholder","aaaa/mm/dd")("mask","9999/99/99"),o.xp6(4),o.Q6J("placeholder","aaaa/mm/dd")("mask","9999/99/99"),o.xp6(4),o.Q6J("placeholder","aaaa/mm/dd")("mask","9999/99/99"),o.xp6(5),o.Q6J("ngForOf",r.aseguradoras),o.xp6(5),o.Q6J("ngForOf",r.asociaciones),o.xp6(10),o.Q6J("src","assets/guardar.svg",o.LSH),o.xp6(2),o.Q6J("ngIf",r.id),o.xp6(1),o.Q6J("ngIf",r.id),o.xp6(2),o.Q6J("routerLink","/empresa/buscar-conductores"))},dependencies:[d.sg,d.O5,u.rH,g.Z6,e._Y,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.JL,e.sg,e.u],styles:[".contenedor[_ngcontent-%COMP%]{padding:15px 20px;height:100%}.col-3[_ngcontent-%COMP%], .mt-10[_ngcontent-%COMP%]{margin-top:10px}.titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.card-formulario[_ngcontent-%COMP%]{width:100%;padding:30px;background-color:#fff;border-radius:25px}.subtitulo[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#000;margin-left:20px}.input[_ngcontent-%COMP%]{width:100%;background-color:#fff;border:2px solid #EFEFEF;padding-left:20px;border-radius:20px;height:28px;font-size:12px}.separador[_ngcontent-%COMP%]{width:20px}.content-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{padding:5px 20px;height:30px;background-color:#fff;border-radius:25px;border:none;font-size:14px;font-weight:700;color:#000;transition:all .2s ease-in-out}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;margin-right:10px}.bg-b[_ngcontent-%COMP%]{background-color:#8dd7f7}.bg-y[_ngcontent-%COMP%]{background-color:#fff25c}.flexible[_ngcontent-%COMP%]{width:100%;display:flex}.end[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;padding-right:12px}"]}),i})();function Q(i,n){if(1&i&&(o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA()()),2&i){const t=n.$implicit;o.xp6(2),o.Oqu(t.usuario),o.xp6(2),o.Oqu(t.fechaRegistro)}}let H=(()=>{class i{constructor(t){this.aC=t,this.refrendar=new o.vpe,this.id="",this.refrendaciones=[]}ngOnInit(){this.id&&this.cargarData()}cargarData(){this.aC.getRefrendaciones(this.id).subscribe({next:t=>{this.refrendaciones=t}})}_refrendar(){this.refrendar.emit(),setTimeout(()=>{this.cargarData()},1500)}}return i.\u0275fac=function(t){return new(t||i)(o.Y36(h.E))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-refrendaciones"]],inputs:{conductor:"conductor",id:"id"},outputs:{refrendar:"refrendar"},decls:19,vars:3,consts:[[1,"card-formulario","sombra"],[1,"table"],[1,"ptlr"],[1,"ptrr"],[1,"bw"],[4,"ngFor","ngForOf"],[1,"row","mt-20"],[1,"col-6"],[1,"col-6","end"],["type","button",1,"sombra","bg-r",3,"click"],[3,"src"],[1,"separador"],[1,"sombra","bg-r",3,"routerLink"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),o._uU(5,"Usuario"),o.qZA(),o.TgZ(6,"th",3),o._uU(7,"Fecha de Registro"),o.qZA()()(),o.TgZ(8,"tbody",4),o.YNc(9,Q,5,2,"tr",5),o.qZA()(),o.TgZ(10,"div",6),o._UZ(11,"div",7),o.TgZ(12,"div",8)(13,"button",9),o.NdJ("click",function(){return r._refrendar()}),o._UZ(14,"img",10),o._uU(15,"Refrendar"),o.qZA(),o._UZ(16,"div",11),o.TgZ(17,"button",12),o._uU(18,"Cancelar"),o.qZA()()()()),2&t&&(o.xp6(9),o.Q6J("ngForOf",r.refrendaciones),o.xp6(5),o.Q6J("src","assets/moneda.png",o.LSH),o.xp6(3),o.Q6J("routerLink","/empresa/buscar-conductores"))},dependencies:[d.sg,u.rH],styles:[".card-formulario[_ngcontent-%COMP%]{width:100%;padding:30px;background-color:#fff;border-radius:25px}table[_ngcontent-%COMP%]{margin-bottom:0!important;border-bottom:0px!important}thead[_ngcontent-%COMP%]{background-color:#fff}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;font-size:14px}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;border:none}.ptlr[_ngcontent-%COMP%]{border-top-left-radius:15px!important}.ptrr[_ngcontent-%COMP%]{border-top-right-radius:15px!important}.h-10[_ngcontent-%COMP%]{height:10px;width:100%}.bw[_ngcontent-%COMP%]{background:white}.mt-20[_ngcontent-%COMP%]{margin-top:20px}button[_ngcontent-%COMP%]{padding:5px 20px;height:30px;background-color:#fff;border-radius:25px;border:none;font-size:14px;font-weight:700;color:#000;transition:all .2s ease-in-out}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;margin-right:10px}.bg-b[_ngcontent-%COMP%]{background-color:#8dd7f7}.bg-y[_ngcontent-%COMP%]{background-color:#fff25c}.end[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;padding-right:12px}.separador[_ngcontent-%COMP%]{width:20px}"]}),i})();const p=function(i){return{seleccionado:i}};function X(i,n){if(1&i){const t=o.EpF();o.TgZ(0,"button",4),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.seleccionado=4)}),o._UZ(1,"img",14),o._uU(2,"Refrendaciones "),o.qZA()}if(2&i){const t=o.oxw();o.Q6J("ngClass",o.VKq(1,p,4!=t.seleccionado))}}function G(i,n){if(1&i){const t=o.EpF();o.TgZ(0,"app-refrendaciones",15),o.NdJ("refrendar",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.validarFechas())}),o.qZA()}if(2&i){const t=o.oxw();o.Q6J("id",t.id)("conductor",t.conductor)}}const K=[{path:"",component:(()=>{class i{constructor(t,r,a,s,m){this.activatedRoute=t,this.loading=r,this.location=a,this.aC=s,this.fb=m,this.seleccionado=1,this.id=this.activatedRoute.snapshot.params.id,this.crearConductor={},this.formSaved_1=!1,this.formSaved_2=!1,this.formSaved_3=!1,this.saveForm1=!1,this._form1=this.fb.group({cedula:new e.NI("",[e.kI.required]),nombres:new e.NI("",[e.kI.required]),apellidos:new e.NI("",[e.kI.required]),fechaNacimiento:new e.NI("",[e.kI.required]),tipoSangre:new e.NI("",[e.kI.required]),rh:new e.NI("",[e.kI.required]),sexo:new e.NI("",[e.kI.required]),estadoCivil:new e.NI("",[e.kI.required]),direccion:new e.NI("",[e.kI.required]),barrio:new e.NI("",[e.kI.required]),telefono:new e.NI("",[e.kI.required]),email:new e.NI("",[e.kI.required]),categoriaPase:new e.NI("",[e.kI.required]),fechaLicenciaConduccion:new e.NI("",[e.kI.required]),idAfp:new e.NI("",[e.kI.required]),idArl:new e.NI("",[e.kI.required]),idEps:new e.NI("",[e.kI.required]),jornada:new e.NI("",[e.kI.required]),consecutivo:new e.NI({value:"",disabled:!0}),fechaUltimaRefrendacion:new e.NI({value:"",disabled:!0})}),this._form2=this.fb.group({parentescoJefeHogar:new e.NI("",[e.kI.required]),numeroHijos:new e.NI("",[e.kI.required]),personasCargo:new e.NI("",[e.kI.required]),nivelEducativoAlcanzado:new e.NI("",[e.kI.required]),estudia:new e.NI("",[e.kI.required]),tipoDiscapacidad:new e.NI("",[e.kI.required]),taxistaOcacional:new e.NI("",[e.kI.required]),tiempoComoConductor:new e.NI("",[e.kI.required]),conductorLaborUnidad:new e.NI("",[e.kI.required]),ingresosAproxConductor:new e.NI("",[e.kI.required]),otraLabor:new e.NI("",[e.kI.required]),ingresosOtraLabor:new e.NI(""),tiempoOtraLabor:new e.NI(""),otraLaborUnidad:new e.NI(""),estratoSocioEconomico:new e.NI("",[e.kI.required]),tipoVivienda:new e.NI("",[e.kI.required]),luz:new e.NI("",[e.kI.required]),agua:new e.NI("",[e.kI.required]),gas:new e.NI("",[e.kI.required]),alcantarillado:new e.NI("",[e.kI.required]),recoleccionBasura:new e.NI("",[e.kI.required])}),this._form3=this.fb.group({placa:new e.NI("",[e.kI.required]),idMarca:new e.NI("",[e.kI.required]),modelo:new e.NI("",[e.kI.required]),cedulaPropietario:new e.NI("",[e.kI.required]),nombrePropietario:new e.NI("",[e.kI.required]),direccionPropietario:new e.NI("",[e.kI.required]),telefonoPropietario:new e.NI("",[e.kI.required]),numeroMotor:new e.NI("",[e.kI.required]),numeroChasis:new e.NI("",[e.kI.required]),tarjetaOperacion:new e.NI("",[e.kI.required]),fechaTarjetaOperacion:new e.NI("",[e.kI.required]),fechaTarjetaOperacionF:new e.NI("",[e.kI.required]),numeroRCC:new e.NI("",[e.kI.required]),numeroRCE:new e.NI("",[e.kI.required]),numeroSOAT:new e.NI("",[e.kI.required]),numeroTecnoMecanica:new e.NI("",[e.kI.required]),fechaNumeroRCC:new e.NI("",[e.kI.required]),fechaNumeroRCE:new e.NI("",[e.kI.required]),fechaNumeroSOAT:new e.NI("",[e.kI.required]),fechaNumeroTecnoMecanica:new e.NI("",[e.kI.required]),idAseguradora:new e.NI("",[e.kI.required]),idAsociacion:new e.NI("",[e.kI.required]),idMatricula:new e.NI("",[e.kI.required])}),this.id&&this.cargarData()}cargarData(){this.loading.show(),this.aC.getConductor(this.id).subscribe({next:t=>{this.conductor=t,this.loading.hide()},error:()=>{this.location.back(),this.loading.hide(),this.loading.error("Error data conductor, comuniquese con el administrador de la base de datos")}})}next(t){this.seleccionado=t}validarFechas(){var t=new Date,r=new Date(c(this._form1.controls.fechaNacimiento.value).format("YYYY-MM-DD")),a=new Date(c(this._form1.controls.fechaLicenciaConduccion.value).format("YYYY-MM-DD")),s=new Date(c(this._form3.controls.fechaTarjetaOperacion.value).format("YYYY-MM-DD")),m=new Date(c(this._form3.controls.fechaTarjetaOperacionF.value).format("YYYY-MM-DD")),v=new Date(c(this._form3.controls.fechaNumeroRCE.value).format("YYYY-MM-DD")),C=new Date(c(this._form3.controls.fechaNumeroRCC.value).format("YYYY-MM-DD")),eo=new Date(c(this._form3.controls.fechaNumeroSOAT.value).format("YYYY-MM-DD")),to=new Date(c(this._form3.controls.fechaNumeroTecnoMecanica.value).format("YYYY-MM-DD"));t.getTime()<=r.getTime()?this.loading.error("Fecha de nacimiento mayor a la fecha actual, para poder refrendar debe actualizar la fecha."):t.getTime()>a.getTime()?this.loading.error("Licencia de conducci\xf3n vencida, para poder refrendar debe actualizar la fecha."):t.getTime()<s.getTime()?this.loading.error("Fecha de expedici\xf3n de tarjeta de operaci\xf3n inv\xe1lida, para poder refrendar debe actualizar la fecha."):t.getTime()>m.getTime()?this.loading.error("Fecha de tarjeta de operaci\xf3n vencida, para poder refrendar debe actualizar la fecha."):t.getTime()>v.getTime()?this.loading.error("Fecha de RCE vencida, para poder refrendar debe actualizar la fecha."):t.getTime()>C.getTime()?this.loading.error("Fecha de RCC vencida, para poder refrendar debe actualizar la fecha."):t.getTime()>eo.getTime()?this.loading.error("Fecha de SOAT vencida, para poder refrendar debe actualizar la fecha."):t.getTime()>to.getTime()?this.loading.error("Fecha de la revisi\xf3n t\xe9cnico mec\xe1nica vencida, para poder refrendar debe actualizar la fecha."):this.refrendar()}refrendar(){this.loading.show(),this.aC.refrendar(this.id).subscribe({next:t=>{this.loading.exito("Refrendaci\xf3n exitosa"),this.loading.hide()},error:()=>{this.loading.hide(),this.loading.error("Error al refrendar, comuniquese con el administrador de la base de datos")}})}savedForm(t,r){1==r&&(this.formConductor_1=t,this.formSaved_1=!0,this.seleccion(2)),2==r&&(this.formConductor_2=t,this.formSaved_2=!0,this.seleccion(3)),3==r&&(this.formConductor_3=t,this.formSaved_3=!0,this.guardar())}seleccion(t){1==t&&(this.seleccionado=t),2==t&&(this._form1.valid&&this.formSaved_1&&(this.seleccionado=t),!this._form1.valid&&!this.formSaved_1&&this.loading.error("Rellena todos los campos y guarda el formulario para pasar al siguiente"),this._form1.valid&&!this.formSaved_1&&this.loading.error('Dale click en "Guardar todo" para pasar al siguiente formulario')),3==t&&(this._form2.valid&&this.formSaved_2&&(this.seleccionado=t),!this._form2.valid&&!this.formSaved_2&&this.loading.error("Rellena todos los campos y guarda el formulario para pasar al siguiente"),this._form2.valid&&!this.formSaved_2&&this.loading.error('Dale click en "Guardar todo" para pasar al siguiente formulario'))}guardar(){this.crearConductor={...this.formConductor_1,...this.formConductor_2,...this.formConductor_3,consecutivo:this.conductor?.consecutivo?this.conductor.consecutivo:void 0,comparendosVigentes:void 0,clase:void 0,capacidad:void 0,tipoCombustible:void 0},this.id?this.editar():this.nuevo()}nuevo(){this.loading.show(),this.aC.crearConductor(this.crearConductor).subscribe({next:t=>{t.status?this.loading.exito("Perfil de taxista creado"):this.loading.error(t.message),this.loading.hide()},error:()=>{this.loading.hide(),this.loading.error("Error data conductor, comuniquese con el administrador de la base de datos")}})}editar(){this.loading.show(),this.aC.editarConductor(this.crearConductor).subscribe({next:t=>{this.loading.exito("Perfil de taxista actualizado"),this.loading.hide()},error:()=>{this.loading.hide(),this.loading.error("Error data conductor, comuniquese con el administrador de la base de datos")}})}buscarC(t){this.aC.searchConductorEmpresasByCedula(t).subscribe({next:r=>{this.conductorBxC=r.conductor?r.conductor:r.actual}})}buscarV(t){this.aC.searchVehiculoEmpresasByPlaca(t).subscribe({next:r=>{this.vehiculoBxC=r.actual}})}}return i.\u0275fac=function(t){return new(t||i)(o.Y36(u.gz),o.Y36(f.b),o.Y36(d.Ye),o.Y36(h.E),o.Y36(e.qu))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-agregar-conductor"]],decls:23,vars:26,consts:[[1,"contenedor"],[1,"row","mt-10"],[1,"col"],[1,"titulo"],[1,"opcion-button",3,"ngClass","click"],["src","assets/sidebar/agregarconductor.svg"],["src","assets/sidebar/user.svg"],["src","assets/taxi.svg"],["class","opcion-button",3,"ngClass","click",4,"ngIf"],[1,"row","mt-20"],[1,"animado","animate__animated","animate__fadeInRight",3,"conductorBxC","conductor","form","id","hidden","refrendar","saveForm","busquedaXCedula"],[1,"animado","animate__animated","animate__fadeInRight",3,"conductorBxC","conductor","form","id","hidden","refrendar","saveForm"],[1,"animado","animate__animated","animate__fadeInRight",3,"vehiculoBxC","conductor","form","id","hidden","refrendar","saveForm","busquedaXPlaca"],["class","animado animate__animated animate__fadeInRight",3,"id","conductor","refrendar",4,"ngIf"],["src","assets/moneda.png"],[1,"animado","animate__animated","animate__fadeInRight",3,"id","conductor","refrendar"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),o._uU(4,"Agregar conductor"),o.qZA()()(),o.TgZ(5,"div",1)(6,"div",2)(7,"button",4),o.NdJ("click",function(){return r.seleccion(1)}),o._UZ(8,"img",5),o._uU(9,"Conductor "),o.qZA(),o.TgZ(10,"button",4),o.NdJ("click",function(){return r.seleccion(2)}),o._UZ(11,"img",6),o._uU(12,"Inf. complementaria "),o.qZA(),o.TgZ(13,"button",4),o.NdJ("click",function(){return r.seleccion(3)}),o._UZ(14,"img",7),o._uU(15,"Veh\xedculo "),o.qZA(),o.YNc(16,X,3,3,"button",8),o.qZA()(),o.TgZ(17,"div",9)(18,"div",2)(19,"app-conductor",10),o.NdJ("refrendar",function(){return r.validarFechas()})("saveForm",function(s){return r.savedForm(s,1)})("busquedaXCedula",function(s){return r.buscarC(s)}),o.qZA(),o.TgZ(20,"app-info-complementaria",11),o.NdJ("refrendar",function(){return r.validarFechas()})("saveForm",function(s){return r.savedForm(s,2)}),o.qZA(),o.TgZ(21,"app-vehiculo",12),o.NdJ("refrendar",function(){return r.validarFechas()})("saveForm",function(s){return r.savedForm(s,3)})("busquedaXPlaca",function(s){return r.buscarV(s)}),o.qZA(),o.YNc(22,G,1,2,"app-refrendaciones",13),o.qZA()()()),2&t&&(o.xp6(7),o.Q6J("ngClass",o.VKq(20,p,1!=r.seleccionado)),o.xp6(3),o.Q6J("ngClass",o.VKq(22,p,2!=r.seleccionado)),o.xp6(3),o.Q6J("ngClass",o.VKq(24,p,3!=r.seleccionado)),o.xp6(3),o.Q6J("ngIf",r.id),o.xp6(3),o.Q6J("conductorBxC",r.conductorBxC)("conductor",r.conductor)("form",r._form1)("id",r.id)("hidden",1!=r.seleccionado),o.xp6(1),o.Q6J("conductorBxC",r.conductorBxC)("conductor",r.conductor)("form",r._form2)("id",r.id)("hidden",2!=r.seleccionado),o.xp6(1),o.Q6J("vehiculoBxC",r.vehiculoBxC)("conductor",r.conductor)("form",r._form3)("id",r.id)("hidden",3!=r.seleccionado),o.xp6(1),o.Q6J("ngIf",4==r.seleccionado))},dependencies:[d.mk,d.O5,Y,E,z,H],styles:[".contenedor[_ngcontent-%COMP%]{padding:15px 20px;height:100%}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000}.opcion-button[_ngcontent-%COMP%]{background-color:transparent;border:none;padding-left:0;padding-right:30px;font-size:13px;color:#000;transition:all .1s ease-in-out}.opcion-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .1s ease-in-out;height:20px;margin-right:10px}.seleccionado[_ngcontent-%COMP%]{font-size:12px!important;color:#00000050!important}.seleccionado[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px!important;opacity:.5}.animado[_ngcontent-%COMP%]{transition:all .5s ease-in-out}"]}),i})()}];let $=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[u.Bz.forChild(K),u.Bz]}),i})();var W=l(5503);let oo=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[d.ez,$,W.D,g.yI,e.UX,e.u5]}),i})()}}]);