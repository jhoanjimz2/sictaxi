"use strict";(self.webpackChunksictaxi=self.webpackChunksictaxi||[]).push([[939],{939:(P,h,e)=>{e.r(h),e.d(h,{ParqueAutomotorModule:()=>T});var n=e(6895),s=e(5197),d=e(5412),t=e(1571),_=e(4471),c=e(2574);let f=(()=>{class a{constructor(o,i,m,x){this.dialogRef=o,this.data=i,this.loading=m,this.eS=x}eliminar(){this.loading.show(),this.eS.cancelarMatricula(this.data.placa).subscribe({next:o=>{this.loading.hide(),this.loading.exito("Matricula cancelada con exito"),this.dialogRef.close(!0)},error:o=>{this.loading.hide(),this.loading.error("Error cancelar matricula, comuniquese con el administrador de la base de datos"),this.dialogRef.close(!1)}})}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(d.so),t.Y36(d.WI),t.Y36(_.b),t.Y36(c.P))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-modal-eliminar-matricula"]],decls:10,vars:0,consts:[[1,"contenedor"],[1,"pt-20"],[1,"pb-20","centrar"],[1,"b-b",3,"click"],[1,"w-20"],["mat-dialog-close","",1,"b-w"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label"),t._uU(3,"\xbfSeguro que desea cancelar \xe9sta matr\xedcula?"),t.qZA()(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return i.eliminar()}),t._uU(6,"Confirmar cancelaci\xf3n"),t.qZA(),t._UZ(7,"div",4),t.TgZ(8,"button",5),t._uU(9,"Cancelar"),t.qZA()()())},dependencies:[d.ZT],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;justify-content:center;align-items:center}.div[_ngcontent-%COMP%]{text-align:center}label[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000}.b-w[_ngcontent-%COMP%]{background-color:#fff;border:2px solid rgba(0,0,0,.3764705882)}.b-b[_ngcontent-%COMP%]{background-color:#fff25c;border:2px solid #FFF25C}.b-b[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;margin-right:10px}button[_ngcontent-%COMP%]{border:none;font-size:14px;font-weight:700;color:#000;padding:2px 20px;border-radius:25px}.w-20[_ngcontent-%COMP%]{width:20px}.pt-20[_ngcontent-%COMP%]{padding-top:20px}.pb-20[_ngcontent-%COMP%]{padding-bottom:20px}.centrar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),a})();var r=e(8273),p=e(8569),l=e(557),u=e(2131),M=e(7446);function b(a,g){if(1&a){const o=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"div",14),t._UZ(3,"img",15),t.ALo(4,"imagenes"),t.qZA(),t.TgZ(5,"div",16)(6,"label"),t._uU(7),t.TgZ(8,"span"),t._uU(9),t.qZA()(),t._UZ(10,"br"),t.TgZ(11,"label"),t._uU(12,"Empresa: "),t.TgZ(13,"span"),t._uU(14),t.qZA()(),t._UZ(15,"br"),t.TgZ(16,"label"),t._uU(17,"Placa: "),t.TgZ(18,"span"),t._uU(19),t.qZA()(),t._UZ(20,"br"),t.TgZ(21,"label"),t._uU(22,"N\xfamero de motor: "),t.TgZ(23,"span"),t._uU(24),t.qZA()(),t._UZ(25,"br"),t.TgZ(26,"label"),t._uU(27,"N\xfamero de chasis: "),t.TgZ(28,"span"),t._uU(29),t.qZA()()(),t.TgZ(30,"div",16)(31,"label"),t._uU(32,"Propietario: "),t.TgZ(33,"span"),t._uU(34),t.qZA()(),t._UZ(35,"br"),t.TgZ(36,"label"),t._uU(37,"C\xe9dula: "),t.TgZ(38,"span"),t._uU(39),t.qZA()(),t._UZ(40,"br"),t.TgZ(41,"label"),t._uU(42,"Tel\xe9fono: "),t.TgZ(43,"span"),t._uU(44),t.qZA()(),t._UZ(45,"br"),t.TgZ(46,"label"),t._uU(47,"Direcci\xf3n: "),t.TgZ(48,"span"),t._uU(49),t.qZA()()(),t.TgZ(50,"div",17)(51,"button",18),t.NdJ("click",function(){const x=t.CHM(o).$implicit,U=t.oxw();return t.KtG(U.eliminar(x.placa))}),t._UZ(52,"img",15),t.ALo(53,"imagenes"),t.TgZ(54,"div"),t._uU(55,"Cancelar"),t._UZ(56,"br"),t._uU(57,"matricula"),t.qZA()()()()()}if(2&a){const o=g.$implicit;t.xp6(3),t.Q6J("src",t.lcZ(4,12,"assets/taxi.svg"),t.LSH),t.xp6(4),t.hij("",o.marca," Modelo: "),t.xp6(2),t.Oqu(o.modelo),t.xp6(5),t.Oqu(o.nombreEmpresa),t.xp6(5),t.Oqu(o.placa),t.xp6(5),t.Oqu(o.numeroMotor),t.xp6(5),t.Oqu(o.numeroChasis),t.xp6(5),t.Oqu(o.nombrePropietario),t.xp6(5),t.Oqu(o.cedulaPropietario),t.xp6(5),t.Oqu(o.telefonoPropietario),t.xp6(5),t.Oqu(o.direccionPropietario),t.xp6(3),t.Q6J("src",t.lcZ(53,14,"assets/cancelarmatricula.svg"),t.LSH)}}function C(a,g){if(1&a){const o=t.EpF();t.TgZ(0,"app-paginacion",19),t.NdJ("paginar",function(m){t.CHM(o);const x=t.oxw();return t.KtG(x.pagina(m))}),t.qZA()}if(2&a){const o=t.oxw();t.Q6J("cantidad",o.totalPages)("focus",o.paginaActual)}}const v=[{path:"",component:(()=>{class a{constructor(o,i,m,x){this.loading=o,this.dialog=i,this.eS=m,this.download=x,this.vahiculos=[],this.totalPages=0,this.paginaActual=0,this.filtro="",this.pagina({pagina:1})}pagina({pagina:o}){this.loading.show(),this.paginaActual=o,this.eS.getVehiculosGeneral(o,this.filtro).subscribe({next:i=>{this.totalPages=i.pages,this.vahiculos=i.data,this.loading.hide()},error:i=>{this.totalPages=0,this.vahiculos=[],this.loading.hide(),this.loading.error(i.error.message)}})}buscar(o){this.filtro=o,this.pagina({pagina:1})}eliminar(o){this.dialog.open(f,{data:{placa:o},height:"150px",width:"800px"}).afterClosed().subscribe(m=>{m&&this.pagina({pagina:1})})}exportar(){this.loading.show(),this.eS.getParqueAutomotorExcel().subscribe({next:o=>{this.download.download(o,"Parque Automotor")},error:o=>{this.loading.hide(),this.loading.error(o.error.message)}})}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(_.b),t.Y36(d.uw),t.Y36(c.P),t.Y36(r.K))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-parque-automotor"]],decls:13,vars:3,consts:[[1,"contenedor"],[1,"row","mt-20"],[3,"placeholder","searchEvent"],[1,"row","mt-10"],[1,"col-6"],[1,"titulo"],[1,"col-6","flex-end"],[3,"export"],[1,"row","pb-80"],["class","col-12",4,"ngFor","ngForOf"],[1,"footer-paginacion"],[3,"cantidad","focus","paginar",4,"ngIf"],[1,"col-12"],[1,"card-taxista","sombra"],[1,"img"],[3,"src"],[1,"texts"],[1,"boton"],[1,"cancelarMatricula","sombra",3,"click"],[3,"cantidad","focus","paginar"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-barra-busqueda",2),t.NdJ("searchEvent",function(x){return i.buscar(x)}),t.qZA()(),t.TgZ(3,"div",3)(4,"div",4)(5,"label",5),t._uU(6,"Parque automotor"),t.qZA()(),t.TgZ(7,"div",6)(8,"app-export-excel",7),t.NdJ("export",function(){return i.exportar()}),t.qZA()()(),t.TgZ(9,"div",8),t.YNc(10,b,58,16,"div",9),t.qZA(),t.TgZ(11,"div",10),t.YNc(12,C,1,2,"app-paginacion",11),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("placeholder","Buscar por placa o c\xe9dula"),t.xp6(8),t.Q6J("ngForOf",i.vahiculos),t.xp6(2),t.Q6J("ngIf",i.totalPages))},dependencies:[n.sg,n.O5,p.s,l.$,u.A,M.z],styles:[".contenedor[_ngcontent-%COMP%]{padding:15px 20px;height:100%}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000;margin-left:20px}.flex-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.card-taxista[_ngcontent-%COMP%]{width:100%;background-color:#fff;border-radius:25px;margin-top:20px;padding:20px;display:flex}.img[_ngcontent-%COMP%]{width:90px;padding-right:20px;padding-left:30px;cursor:pointer;display:flex;justify-content:center;align-items:center}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px}.texts[_ngcontent-%COMP%]{width:calc(50% - 145px);line-height:1}.texts[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#000}.texts[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#00000070}.boton[_ngcontent-%COMP%]{width:200px;display:flex;justify-content:center;align-items:center}.boton[_ngcontent-%COMP%]   .cancelarMatricula[_ngcontent-%COMP%]{width:160px;padding-top:5px;padding-bottom:5px;border-radius:25px;background-color:#fff;border:none;display:flex;justify-content:center;align-items:center;transition:all .2s ease-in-out}.boton[_ngcontent-%COMP%]   .cancelarMatricula[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;margin-right:10px}.boton[_ngcontent-%COMP%]   .cancelarMatricula[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{line-height:1;font-size:12px}.cancelarMatricula[_ngcontent-%COMP%]:hover{transform:translateY(-3px);background-color:#fff25c!important}"]}),a})()}];let O=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[s.Bz.forChild(v),s.Bz]}),a})();var Z=e(4466),E=e(7023),A=e(5503);let T=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[n.ez,O,Z.m,E.q,A.D]}),a})()},8273:(P,h,e)=>{e.d(h,{K:()=>d});var n=e(1571),s=e(4471);let d=(()=>{class t{constructor(c){this.loading=c}download(c,f){const r=c.type,p=[];p.push(c);const l=window.URL.createObjectURL(new Blob(p,{type:r})),u=document.createElement("a");u.href=l,u.setAttribute("download",f),document.body.appendChild(u),u.click(),this.loading.hide()}}return t.\u0275fac=function(c){return new(c||t)(n.LFG(s.b))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},2131:(P,h,e)=>{e.d(h,{A:()=>_});var n=e(1571),s=e(433),d=e(7579),t=e(8372);let _=(()=>{class c{constructor(){this.searchEvent=new n.vpe,this.placeholder="",this.searching=new s.cw({search:new s.NI("")}),this.debounceSelect=new d.x,this.debounceSelect.pipe((0,t.b)(1e3)).subscribe(r=>{this.buscar()})}debounce(){this.debounceSelect.next(this.searching.controls.search.value)}buscar(){this.searchEvent.emit(this.searching.controls.search.value)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=n.Xpm({type:c,selectors:[["app-barra-busqueda"]],inputs:{placeholder:"placeholder"},outputs:{searchEvent:"searchEvent"},decls:4,vars:3,consts:[[1,"con-search-bar",3,"formGroup"],[1,"cont-input-incon"],["formControlName","search",3,"placeholder","keyup"],[3,"src"]],template:function(r,p){1&r&&(n.TgZ(0,"div",0)(1,"div",1)(2,"input",2),n.NdJ("keyup",function(){return p.debounce()}),n.qZA(),n._UZ(3,"img",3),n.qZA()()),2&r&&(n.Q6J("formGroup",p.searching),n.xp6(2),n.Q6J("placeholder",p.placeholder),n.xp6(1),n.Q6J("src","assets/buscar.svg",n.LSH))},dependencies:[s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".con-search-bar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.cont-input-incon[_ngcontent-%COMP%]{width:90%;position:relative}input[_ngcontent-%COMP%]{width:100%;height:40px;border:none;border-radius:25px;background-color:#fff;margin-bottom:10px;padding-left:20px;padding-right:50px;box-shadow:0 4px 17px #00000026}img[_ngcontent-%COMP%]{position:absolute;width:20px;right:20px;top:calc(50% - 15px)}"]}),c})()},557:(P,h,e)=>{e.d(h,{$:()=>f});var n=e(1571),s=e(6895),d=e(1561),t=e(4859),_=e(7446);function c(r,p){if(1&r){const l=n.EpF();n.TgZ(0,"button",6),n.NdJ("click",function(){const b=n.CHM(l).index,C=n.oxw();return n.KtG(C.exportarPag(b+1))}),n._uU(1),n.qZA()}if(2&r){const l=p.index;n.xp6(1),n.hij("Parte ",l+1,"")}}let f=(()=>{class r{constructor(){this.export=new n.vpe,this.exportMultiple=0}exportar(){this.export.emit()}exportarPag(l){this.export.emit(l)}get arr(){return new Array(this.exportMultiple)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-export-excel"]],inputs:{exportMultiple:"exportMultiple"},outputs:{export:"export"},decls:11,vars:11,consts:[[1,"opc",3,"hidden","click"],[3,"src"],["mat-button","",1,"opc",3,"matMenuTriggerFor","hidden"],[3,"hidden"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(l,u){if(1&l&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return u.exportar()}),n._uU(1," Exportar a Excel "),n._UZ(2,"img",1),n.ALo(3,"imagenes"),n.qZA(),n.TgZ(4,"button",2),n._uU(5," Exportar a Excel "),n._UZ(6,"img",1),n.ALo(7,"imagenes"),n.qZA(),n.TgZ(8,"mat-menu",3,4),n.YNc(10,c,2,1,"button",5),n.qZA()),2&l){const M=n.MAs(9);n.Q6J("hidden",u.exportMultiple),n.xp6(2),n.Q6J("src",n.lcZ(3,7,"assets/excel.svg"),n.LSH),n.xp6(2),n.Q6J("matMenuTriggerFor",M)("hidden",!u.exportMultiple),n.xp6(2),n.Q6J("src",n.lcZ(7,9,"assets/excel.svg"),n.LSH),n.xp6(2),n.Q6J("hidden",!u.exportMultiple),n.xp6(2),n.Q6J("ngForOf",u.arr)}},dependencies:[s.sg,d.VK,d.OP,d.p6,t.lW,_.z],styles:[".opc[_ngcontent-%COMP%]{padding:10px 30px;background-color:#fff;border:none;border-radius:25px;font-size:14px;font-weight:700;margin-left:20px;box-shadow:0 4px 17px #00000026}.opc[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-left:5px}"]}),r})()}}]);