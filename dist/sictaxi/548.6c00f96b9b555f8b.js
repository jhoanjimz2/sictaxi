"use strict";(self.webpackChunksictaxi=self.webpackChunksictaxi||[]).push([[548],{6548:(v,m,o)=>{o.r(m),o.d(m,{ProximosVencerseModule:()=>A});var t=o(6895),l=o(5197),u=o(1261),e=o(1571),h=o(4471),r=o(2574),x=o(5412),i=o(8273),d=o(8569),s=o(557),p=o(2131),f=o(7446),E=o(2546);function Z(a,g){if(1&a&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",14),e._UZ(3,"img",15),e.ALo(4,"imagenes"),e.qZA(),e.TgZ(5,"div",16)(6,"label",17),e._uU(7),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"label",18),e._uU(10,"Empresa: "),e.TgZ(11,"span"),e._uU(12),e.qZA()(),e._UZ(13,"br"),e.TgZ(14,"label",18),e._uU(15,"C\xe9dula: "),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e._UZ(18,"br"),e.TgZ(19,"label",18),e._uU(20,"Placa: "),e.TgZ(21,"span"),e._uU(22),e.qZA()(),e._UZ(23,"br"),e.TgZ(24,"label",18),e._uU(25,"Licencia: "),e.TgZ(26,"span"),e._uU(27),e.qZA(),e._UZ(28,"img",15),e.ALo(29,"imagenes"),e.qZA(),e._UZ(30,"br"),e.TgZ(31,"label",18),e._uU(32,"Tarjeta de operaci\xf3n: "),e.TgZ(33,"span"),e._uU(34),e.qZA(),e._UZ(35,"img",15),e.ALo(36,"imagenes"),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"label",18),e._uU(39,"RCC: "),e.TgZ(40,"span"),e._uU(41),e.qZA(),e._UZ(42,"img",15),e.ALo(43,"imagenes"),e.qZA(),e._UZ(44,"br"),e.TgZ(45,"label",18),e._uU(46,"RCE: "),e.TgZ(47,"span"),e._uU(48),e.qZA(),e._UZ(49,"img",15),e.ALo(50,"imagenes"),e.qZA(),e._UZ(51,"br"),e.TgZ(52,"label",18),e._uU(53,"SOAT: "),e.TgZ(54,"span"),e._uU(55),e.qZA(),e._UZ(56,"img",15),e.ALo(57,"imagenes"),e.qZA(),e._UZ(58,"br"),e.TgZ(59,"label",18),e._uU(60,"Tecnicomec\xe1nica: "),e.TgZ(61,"span"),e._uU(62),e.qZA(),e._UZ(63,"img",15),e.ALo(64,"imagenes"),e.qZA()()()()),2&a){const n=g.$implicit,c=e.oxw();e.xp6(3),e.Q6J("src",e.lcZ(4,29,c.prevImg+n.fotoURL),e.LSH),e.xp6(4),e.Oqu(n.nombres+" "+n.apellidos),e.xp6(5),e.Oqu(n.razonSocial),e.xp6(5),e.Oqu(n.cedula),e.xp6(5),e.Oqu(n.placa),e.xp6(5),e.lnq(" ",n.diferencialicencia.toString().includes("-")?"":"En"," ",n.diferencialicencia.toString().includes("-")?"Hace":""," ",n.diferencialicencia.toString().includes("-")?n.diferencialicencia.toString().substring(1):n.diferencialicencia," d\xedas"),e.xp6(1),e.Q6J("src",n.diferencialicencia.toString().includes("-")?e.lcZ(29,31,"assets/alertas.svg"):"assets/tramitadas.svg",e.LSH),e.xp6(6),e.lnq(" ",n.diferenciatarjetaO.toString().includes("-")?"":"En"," ",n.diferenciatarjetaO.toString().includes("-")?"Hace":""," ",n.diferenciatarjetaO.toString().includes("-")?n.diferenciatarjetaO.toString().substring(1):n.diferenciatarjetaO," d\xedas"),e.xp6(1),e.Q6J("src",n.diferenciatarjetaO.toString().includes("-")?e.lcZ(36,33,"assets/alertas.svg"):"assets/tramitadas.svg",e.LSH),e.xp6(6),e.lnq(" ",n.diferenciaFechaNumeroRCC.toString().includes("-")?"":"En"," ",n.diferenciaFechaNumeroRCC.toString().includes("-")?"Hace":""," ",n.diferenciaFechaNumeroRCC.toString().includes("-")?n.diferenciaFechaNumeroRCC.toString().substring(1):n.diferenciaFechaNumeroRCC," d\xedas"),e.xp6(1),e.Q6J("src",n.diferenciaFechaNumeroRCC.toString().includes("-")?e.lcZ(43,35,"assets/alertas.svg"):"assets/tramitadas.svg",e.LSH),e.xp6(6),e.lnq(" ",n.diferenciaFechaNumeroRCE.toString().includes("-")?"":"En"," ",n.diferenciaFechaNumeroRCE.toString().includes("-")?"Hace":""," ",n.diferenciaFechaNumeroRCE.toString().includes("-")?n.diferenciaFechaNumeroRCE.toString().substring(1):n.diferenciaFechaNumeroRCE," d\xedas"),e.xp6(1),e.Q6J("src",n.diferenciaFechaNumeroRCE.toString().includes("-")?e.lcZ(50,37,"assets/alertas.svg"):"assets/tramitadas.svg",e.LSH),e.xp6(6),e.lnq(" ",n.diferenciaFechaNumeroSOAT.toString().includes("-")?"":"En"," ",n.diferenciaFechaNumeroSOAT.toString().includes("-")?"Hace":""," ",n.diferenciaFechaNumeroSOAT.toString().includes("-")?n.diferenciaFechaNumeroSOAT.toString().substring(1):n.diferenciaFechaNumeroSOAT," d\xedas"),e.xp6(1),e.Q6J("src",n.diferenciaFechaNumeroSOAT.toString().includes("-")?e.lcZ(57,39,"assets/alertas.svg"):"assets/tramitadas.svg",e.LSH),e.xp6(6),e.lnq(" ",n.diferenciaFechaNumeroTecnomecanica.toString().includes("-")?"":"En"," ",n.diferenciaFechaNumeroTecnomecanica.toString().includes("-")?"Hace":""," ",n.diferenciaFechaNumeroTecnomecanica.toString().includes("-")?n.diferenciaFechaNumeroTecnomecanica.toString().substring(1):n.diferenciaFechaNumeroTecnomecanica," d\xedas"),e.xp6(1),e.Q6J("src",n.diferenciaFechaNumeroTecnomecanica.toString().includes("-")?e.lcZ(64,41,"assets/alertas.svg"):"assets/tramitadas.svg",e.LSH)}}function P(a,g){if(1&a){const n=e.EpF();e.TgZ(0,"app-paginacion",19),e.NdJ("paginar",function(_){e.CHM(n);const C=e.oxw();return e.KtG(C.pagina(_))}),e.qZA()}if(2&a){const n=e.oxw();e.Q6J("cantidad",n.totalPages)("focus",n.paginaActual)}}const O=[{path:"",component:(()=>{class a{constructor(n,c,_,C){this.loading=n,this.eS=c,this.dialog=_,this.download=C,this.fechasVencida=[],this.totalPages=0,this.paginaActual=0,this.buscar="",this.prevImg=u.N.apiImg,this.pagina({pagina:1})}pagina({pagina:n}){this.paginaActual=n,this.loading.show(),this.eS.getDataProximosDocumentosVencidosEmpresa(n).subscribe({next:c=>{this.totalPages=c.pages,this.fechasVencida=c.data,this.loading.hide()},error:c=>{this.totalPages=0,this.fechasVencida=[],this.loading.hide(),this.loading.error(c.error.message)}})}exportar(){this.loading.show(),this.eS.getExcelProximosDocumentoVencerseEmpresa().subscribe({next:n=>{this.download.download(n,"Proximos a vencerse")},error:n=>{this.loading.hide(),this.loading.error(n.error.message)}})}buscando(n){this.buscar=n.toUpperCase()}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(h.b),e.Y36(r.P),e.Y36(x.uw),e.Y36(i.K))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-proximos-vencerse"]],decls:14,vars:6,consts:[[1,"contenedor"],[1,"row","mt-20"],[3,"placeholder","searchEvent"],[1,"row","mt-40"],[1,"col-6"],[1,"titulo"],[1,"col-6","flex-end"],[3,"export"],[1,"row","pb-80"],["class","col-4 mt-20",4,"ngFor","ngForOf"],[1,"footer-paginacion"],[3,"cantidad","focus","paginar",4,"ngIf"],[1,"col-4","mt-20"],[1,"card-taxista"],[1,"w-img"],[3,"src"],[1,"w-tex"],[1,"cardtitulo"],[1,"cardsubtitulo"],[3,"cantidad","focus","paginar"]],template:function(n,c){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-barra-busqueda",2),e.NdJ("searchEvent",function(C){return c.buscando(C)}),e.qZA()(),e.TgZ(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"Proximos en vencerse"),e.qZA()(),e.TgZ(7,"div",6)(8,"app-export-excel",7),e.NdJ("export",function(){return c.exportar()}),e.qZA()()(),e.TgZ(9,"div",8),e.YNc(10,Z,65,43,"div",9),e.ALo(11,"fechasVencidasEmpresa"),e.qZA(),e.TgZ(12,"div",10),e.YNc(13,P,1,2,"app-paginacion",11),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("placeholder","Buscar por placa o c\xe9dula"),e.xp6(8),e.Q6J("ngForOf",e.xi3(11,3,c.fechasVencida,c.buscar)),e.xp6(3),e.Q6J("ngIf",c.totalPages))},dependencies:[t.sg,t.O5,d.s,s.$,p.A,f.z,E.q],styles:[".contenedor[_ngcontent-%COMP%]{padding:15px 20px;height:100%}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000;margin-left:20px}.flex-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.card-taxista[_ngcontent-%COMP%]{width:100%;background-color:#fff;border-radius:25px;padding:15px;display:flex}.w-img[_ngcontent-%COMP%]{width:50px}.w-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;object-fit:cover}.w-tex[_ngcontent-%COMP%]{width:calc(100% - 50px);padding-left:10px;line-height:1.2}.w-tex[_ngcontent-%COMP%]   .cardtitulo[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#000}.w-tex[_ngcontent-%COMP%]   .cardsubtitulo[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#000}.w-tex[_ngcontent-%COMP%]   .cardsubtitulo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#00000080}.w-tex[_ngcontent-%COMP%]   .cardsubtitulo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px;margin-left:5px}"]}),a})()}];let T=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[l.Bz.forChild(O),l.Bz]}),a})();var b=o(4466),M=o(5503);let A=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[t.ez,T,b.m,M.D]}),a})()},8273:(v,m,o)=>{o.d(m,{K:()=>u});var t=o(1571),l=o(4471);let u=(()=>{class e{constructor(r){this.loading=r}download(r,x){const i=r.type,d=[];d.push(r);const s=window.URL.createObjectURL(new Blob(d,{type:i})),p=document.createElement("a");p.href=s,p.setAttribute("download",x),document.body.appendChild(p),p.click(),this.loading.hide()}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(l.b))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2131:(v,m,o)=>{o.d(m,{A:()=>h});var t=o(1571),l=o(433),u=o(7579),e=o(8372);let h=(()=>{class r{constructor(){this.searchEvent=new t.vpe,this.placeholder="",this.searching=new l.cw({search:new l.NI("")}),this.debounceSelect=new u.x,this.debounceSelect.pipe((0,e.b)(1e3)).subscribe(i=>{this.buscar()})}debounce(){this.debounceSelect.next(this.searching.controls.search.value)}buscar(){this.searchEvent.emit(this.searching.controls.search.value)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-barra-busqueda"]],inputs:{placeholder:"placeholder"},outputs:{searchEvent:"searchEvent"},decls:4,vars:3,consts:[[1,"con-search-bar",3,"formGroup"],[1,"cont-input-incon"],["formControlName","search",3,"placeholder","keyup"],[3,"src"]],template:function(i,d){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"input",2),t.NdJ("keyup",function(){return d.debounce()}),t.qZA(),t._UZ(3,"img",3),t.qZA()()),2&i&&(t.Q6J("formGroup",d.searching),t.xp6(2),t.Q6J("placeholder",d.placeholder),t.xp6(1),t.Q6J("src","assets/buscar.svg",t.LSH))},dependencies:[l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".con-search-bar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.cont-input-incon[_ngcontent-%COMP%]{width:90%;position:relative}input[_ngcontent-%COMP%]{width:100%;height:40px;border:none;border-radius:25px;background-color:#fff;margin-bottom:10px;padding-left:20px;padding-right:50px;box-shadow:0 4px 17px #00000026}img[_ngcontent-%COMP%]{position:absolute;width:20px;right:20px;top:calc(50% - 15px)}"]}),r})()},557:(v,m,o)=>{o.d(m,{$:()=>x});var t=o(1571),l=o(6895),u=o(1561),e=o(4859),h=o(7446);function r(i,d){if(1&i){const s=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){const E=t.CHM(s).index,Z=t.oxw();return t.KtG(Z.exportarPag(E+1))}),t._uU(1),t.qZA()}if(2&i){const s=d.index;t.xp6(1),t.hij("Parte ",s+1,"")}}let x=(()=>{class i{constructor(){this.export=new t.vpe,this.exportMultiple=0}exportar(){this.export.emit()}exportarPag(s){this.export.emit(s)}get arr(){return new Array(this.exportMultiple)}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-export-excel"]],inputs:{exportMultiple:"exportMultiple"},outputs:{export:"export"},decls:11,vars:11,consts:[[1,"opc",3,"hidden","click"],[3,"src"],["mat-button","",1,"opc",3,"matMenuTriggerFor","hidden"],[3,"hidden"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(s,p){if(1&s&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return p.exportar()}),t._uU(1," Exportar a Excel "),t._UZ(2,"img",1),t.ALo(3,"imagenes"),t.qZA(),t.TgZ(4,"button",2),t._uU(5," Exportar a Excel "),t._UZ(6,"img",1),t.ALo(7,"imagenes"),t.qZA(),t.TgZ(8,"mat-menu",3,4),t.YNc(10,r,2,1,"button",5),t.qZA()),2&s){const f=t.MAs(9);t.Q6J("hidden",p.exportMultiple),t.xp6(2),t.Q6J("src",t.lcZ(3,7,"assets/excel.svg"),t.LSH),t.xp6(2),t.Q6J("matMenuTriggerFor",f)("hidden",!p.exportMultiple),t.xp6(2),t.Q6J("src",t.lcZ(7,9,"assets/excel.svg"),t.LSH),t.xp6(2),t.Q6J("hidden",!p.exportMultiple),t.xp6(2),t.Q6J("ngForOf",p.arr)}},dependencies:[l.sg,u.VK,u.OP,u.p6,e.lW,h.z],styles:[".opc[_ngcontent-%COMP%]{padding:10px 30px;background-color:#fff;border:none;border-radius:25px;font-size:14px;font-weight:700;margin-left:20px;box-shadow:0 4px 17px #00000026}.opc[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-left:5px}"]}),i})()}}]);