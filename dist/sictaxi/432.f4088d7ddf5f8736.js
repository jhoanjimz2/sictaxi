"use strict";(self.webpackChunksictaxi=self.webpackChunksictaxi||[]).push([[432],{2432:(U,d,r)=>{r.r(d),r.d(d,{PerfilUsuarioModule:()=>C});var u=r(6895),l=r(5197),c=r(6132),t=r(433),m=r(5972),o=r(1571),g=r(5412),p=r(4471),f=r(2574),h=r(7446);const b=[{path:"",component:(()=>{class i{get user(){return JSON.parse(localStorage.getItem("user"))}constructor(e,n,s,P,Z){this.dialog=e,this.loading=n,this.eS=s,this.fb=P,this.location=Z,this.form=this.fb.group({nombres:new t.NI("",[t.kI.required]),apellidos:new t.NI("",[t.kI.required]),cedula:new t.NI("",[t.kI.required]),direccion:new t.NI("",[t.kI.required]),telefono:new t.NI("",[t.kI.required]),email:new t.NI("",[t.kI.required])}),this.data={},this.cargarData()}cambiarImg(){this.dialog.open(m.O,{}).afterClosed().subscribe(n=>{})}cambiarPassword(){this.dialog.open(c.z,{}).afterClosed().subscribe(n=>{})}cargarData(){this.loading.show(),this.eS.getPerfilUsuario().subscribe({next:e=>{this.data.tipoImpresion=e.tipoImpresion,this.data.tipoTarjeton=e.tipoTarjeton,this.form.controls.nombres.setValue(e.nombres),this.form.controls.apellidos.setValue(e.apellidos),this.form.controls.cedula.setValue(e.cedula),this.form.controls.direccion.setValue(e.direccion),this.form.controls.telefono.setValue(e.telefono),this.form.controls.email.setValue(e.email),this.loading.hide()},error:()=>{this.loading.hide(),this.location.back(),this.loading.error("Error perfil de usuario, comuniquese con el administrador de la base de datos")}})}guardar(){this.loading.show(),this.data.nombres=this.form.controls.nombres.value,this.data.apellidos=this.form.controls.apellidos.value,this.data.cedula=this.form.controls.cedula.value,this.data.direccion=this.form.controls.direccion.value,this.data.telefono=this.form.controls.telefono.value,this.data.email=this.form.controls.email.value;let e=JSON.parse(localStorage.getItem("user"));this.eS.editarPerfilUsuario(this.data).subscribe({next:()=>{this.loading.exito("Perfil actualizado"),this.loading.hide(),e.nombres=this.data.nombres,e.apellidos=this.data.apellidos,localStorage.setItem("user",JSON.stringify(e))},error:()=>{this.loading.hide(),this.loading.error("Error actualizar perfil, comuniquese con el administrador de la base de datos")}})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(g.uw),o.Y36(p.b),o.Y36(f.P),o.Y36(t.qu),o.Y36(u.Ye))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-perfil-usuario"]],decls:54,vars:11,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"contenedor"],[1,"row"],[1,"col"],[1,"card-header","sombra"],[1,"titulo"],[1,"imgprofile",3,"click"],[1,"imgpro",3,"src"],[1,"sobre"],[3,"src"],[1,"row","mt-20"],[1,"card-formulario","sombra"],[1,"col-4"],[1,"subtitulo"],["type","text","formControlName","cedula",1,"input"],["type","text","formControlName","nombres",1,"input"],["type","text","formControlName","apellidos",1,"input"],["type","text","formControlName","direccion",1,"input"],["type","number","formControlName","telefono",1,"input"],["type","text","formControlName","email",1,"input"],[1,"content-buttons"],["type","submit",1,"sombra","bg-b",3,"disabled"],[1,"separador"],["type","button",1,"sombra","bg-y",3,"click"],["type","button",1,"sombra","bg-r",3,"routerLink"]],template:function(e,n){1&e&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return n.guardar()}),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),o._uU(6,"Datos del usuario"),o.qZA(),o.TgZ(7,"div",6),o.NdJ("click",function(){return n.cambiarImg()}),o._UZ(8,"img",7),o.ALo(9,"imagenes"),o.TgZ(10,"div",8),o._UZ(11,"img",9),o.ALo(12,"imagenes"),o.qZA()()()()(),o.TgZ(13,"div",10)(14,"div",3)(15,"div",11)(16,"div",2)(17,"div",12)(18,"label",13),o._uU(19,"C\xe9dula de ciudadan\xeda"),o.qZA(),o._UZ(20,"input",14),o.qZA(),o.TgZ(21,"div",12)(22,"label",13),o._uU(23,"Nombres"),o.qZA(),o._UZ(24,"input",15),o.qZA(),o.TgZ(25,"div",12)(26,"label",13),o._uU(27,"Apellidos"),o.qZA(),o._UZ(28,"input",16),o.qZA()(),o.TgZ(29,"div",10)(30,"div",12)(31,"label",13),o._uU(32,"Direcci\xf3n"),o.qZA(),o._UZ(33,"input",17),o.qZA(),o.TgZ(34,"div",12)(35,"label",13),o._uU(36,"Tel\xe9fono/celular"),o.qZA(),o._UZ(37,"input",18),o.qZA(),o.TgZ(38,"div",12)(39,"label",13),o._uU(40,"E-mail"),o.qZA(),o._UZ(41,"input",19),o.qZA()(),o.TgZ(42,"div",10)(43,"div",20)(44,"button",21),o._UZ(45,"img",9),o._uU(46,"Guardar todo"),o.qZA(),o._UZ(47,"div",22),o.TgZ(48,"button",23),o.NdJ("click",function(){return n.cambiarPassword()}),o._UZ(49,"img",9),o._uU(50,"Cambiar contrase\xf1a"),o.qZA(),o._UZ(51,"div",22),o.TgZ(52,"button",24),o._uU(53,"Cancelar"),o.qZA()()()()()()()()),2&e&&(o.Q6J("formGroup",n.form),o.xp6(8),o.Q6J("src",o.lcZ(9,7,n.user.fotoUrl),o.LSH),o.xp6(3),o.Q6J("src",o.lcZ(12,9,"assets/editar.svg"),o.LSH),o.xp6(33),o.Q6J("disabled",!n.form.valid),o.xp6(1),o.Q6J("src","assets/guardar.svg",o.LSH),o.xp6(4),o.Q6J("src","assets/llave.svg",o.LSH),o.xp6(3),o.Q6J("routerLink","/secretaria/buscar-conductores"))},dependencies:[l.rH,t._Y,t.Fj,t.wV,t.JJ,t.JL,t.sg,t.u,h.z],styles:[".contenedor[_ngcontent-%COMP%]{padding:15px 20px;height:100%}.card-header[_ngcontent-%COMP%]{width:100%;padding:15px 50px;border-radius:25px;background-color:#fff;display:flex;justify-content:space-between;align-items:center}.titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#000}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.card-formulario[_ngcontent-%COMP%]{width:100%;padding:30px;background-color:#fff;border-radius:25px}.subtitulo[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#000;margin-left:20px}.input[_ngcontent-%COMP%]{width:100%;background-color:#fff;border:2px solid #EFEFEF;padding-left:20px;border-radius:20px;height:28px;font-size:12px}.separador[_ngcontent-%COMP%]{width:20px}.content-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{padding:5px 20px;height:30px;background-color:#fff;border-radius:25px;border:none;font-size:14px;font-weight:700;color:#000;transition:all .2s ease-in-out}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;margin-right:10px}.bg-b[_ngcontent-%COMP%]{background-color:#8dd7f7}.bg-y[_ngcontent-%COMP%]{background-color:#fff25c}.imgprofile[_ngcontent-%COMP%]{cursor:pointer;position:relative;transition:all .5s cubic-bezier(0,0,.09,.87)}.imgprofile[_ngcontent-%COMP%]   .imgpro[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;background-size:cover;box-shadow:0 0 7px #00000017;object-fit:cover}.imgprofile[_ngcontent-%COMP%]   .sobre[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;position:absolute;top:0;left:0;z-index:99;background-color:#00000050;display:flex;justify-content:center;align-items:center}.imgprofile[_ngcontent-%COMP%]   .sobre[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}.imgprofile[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}"]}),i})()}];let v=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[l.Bz.forChild(b),l.Bz]}),i})();var x=r(5503);let C=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[u.ez,v,t.UX,x.D]}),i})()}}]);